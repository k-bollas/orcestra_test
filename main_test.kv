ScreenManager:
    id: manager
    MainScreen:
        id: mainscreen
    InformationScreen:
        id: informationscreen
    ThermodynamicsScreen:
        id: thermoscreen
    ThermoStateScreen:
        id: thermostatescreen
    VelTriaScreen:
        id: veltriascreen
    StatorScreen:
        id: statorscreen
    RotorScreen:
        id: rotorscreen


<MainScreen>
    
    name: 'main'
    Screen:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        title: 'ORCestra'
                        left_action_items: [["menu", lambda x: nav_drawer.set_state()]]
                        elevation:5

                    ScrollView:
                        MDGridLayout:
                            id: box
                            cols: 1
                            adaptive_height: True
                        
                            MDCard:
                                orientation: "vertical"
                                padding: dp(8)
                                size_hint: 1, None
                                size: dp(350), dp(350) 
                                allow_stretch: True
                                keep_ratio: True

                                MDLabel:
                                    text: "Thermodynamic Cycle"
                                    theme_text_color: "Secondary"
                                    halign: 'center'
                                    size_hint: 1,None
                                    height: dp(40)
                                    font_style: "H5"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)

                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                                Image:
                                    allow_stretch: False
                                    keep_ratio: False
                                    source:"ORCFigureLayout.JPG"
                                    
                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                                MDRectangleFlatIconButton:
                                    icon: "information"
                                    text: "Information"
                                    color: (0.28, 0.39, 0.63, 1)
                                    pos_hint: {"center_x":0.5,"center_y":0.5}
                                    size_hint: 0.4,None
                                    on_release:
                                        root.manager.screens[1].infovalue = 0
                                        root.manager.current = 'info'
                                        root.manager.transition.direction = "left"
                                                                            
                  
                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                                MDRaisedButton:
                                    text: "Start Simulation"
                                    text_color: (1, 1, 1, 1)
                                    pos_hint: {"x":0.3}
                                    size_hint: 0.4,None
                                    on_release: 
                                        root.manager.current = 'thermo'
                                        root.manager.transition.direction = "left"
                                    
                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                            MDCard:
                                orientation: "vertical"
                                padding: dp(8)
                                size_hint: 1,None
                                height:dp(260)
                                allow_stretch: True
                                keep_ratio: False

                                MDLabel:
                                    text: "Velocity Triangles"
                                    theme_text_color: "Secondary"
                                    font_style: "H5"
                                    halign: 'center'
                                    size_hint: 1,None
                                    height: dp(40)
                                    theme_text_color: "Custom"
                                    text_color: (0.19, 0.64, 0.20, 1)

                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                                Image:
                                    allow_stretch: False
                                    keep_ratio: False
                                    source:"VelocityTriangles.png"

                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                                MDRectangleFlatIconButton:
                                    icon: "information"
                                    text: "Information"
                                    text_color: (0.19, 0.64, 0.20, 1)
                                    icon_color: (0.19, 0.64, 0.20, 1)
                                    pos_hint: {"x":0.3}
                                    size_hint: 0.4,None
                                    line_color: (0.19, 0.64, 0.20, 1)
                                    on_release:
                                        root.manager.screens[1].infovalue = 1
                                        root.manager.current = 'info'
                                        root.manager.transition.direction = "left"

                                    
                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                                MDRaisedButton:
                                    text: "Start Simulation"
                                    text_color: (1, 1, 1, 1)
                                    pos_hint: {"x":0.3}
                                    size_hint: 0.4,None
                                    md_bg_color: (0.19, 0.64, 0.20, 1)
                                    on_release: root.manager.current = 'veltria'
                                        
                                    
                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                            MDCard:
                                orientation: "vertical"
                                padding: dp(8)
                                size_hint: 1,None
                                height:dp(453)
                                allow_stretch: True
                                keep_ratio: False

                                MDLabel:
                                    text: "Stator Design"
                                    theme_text_color: "Secondary"
                                    font_style: "H5"
                                    halign: 'center'
                                    size_hint: 1,None
                                    height: dp(40)
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)

                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
  
                                Image:
                                    allow_stretch: False
                                    keep_ratio: False
                                    source:"StatorBladeImage.png"

                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                                MDRectangleFlatIconButton:
                                    icon: "information"
                                    text: "Information"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                    icon_color: (0.90, 0.36, 0.0, 1)
                                    pos_hint: {"x":0.3}
                                    size_hint: 0.4,None
                                    line_color: (0.90, 0.36, 0.0, 1)
                                    on_release:
                                        root.manager.screens[1].infovalue = 2
                                        root.manager.current = 'info'
                                        root.manager.transition.direction = "left"

                                    
                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                                MDRaisedButton:
                                    text: "Start Simulation"
                                    text_color: (1, 1, 1, 1)
                                    pos_hint: {"x":0.3}
                                    size_hint: 0.4,None
                                    md_bg_color: (0.90, 0.36, 0.0, 1)
                                    on_release: root.manager.current = 'statordes'
                                    
                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                            MDCard:
                                orientation: "vertical"
                                padding: dp(8)
                                size_hint: 1,None
                                height:dp(340)
                                allow_stretch: True
                                keep_ratio: False

                                MDLabel:
                                    text: "Rotor Design"
                                    theme_text_color: "Secondary"
                                    font_style: "H5"
                                    halign: 'center'
                                    size_hint: 1,None
                                    height: dp(40)
                                    theme_text_color: "Custom"
                                    text_color: (0.48, 0.0, 0.80, 1)

                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                                Image:
                                    allow_stretch: False
                                    keep_ratio: False
                                    source:"RotorBladeImage.png"

                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                                MDRectangleFlatIconButton:
                                    icon: "information"
                                    text: "Information"
                                    text_color: (0.48, 0.0, 0.80, 1)
                                    icon_color: (0.48, 0.0, 0.80, 1)
                                    pos_hint: {"x":0.3}
                                    size_hint: 0.4,None
                                    line_color: (0.48, 0.0, 0.80, 1)
                                    on_release:
                                        root.manager.screens[1].infovalue = 3
                                        root.manager.current = 'info'
                                        root.manager.transition.direction = "left"
                                    
                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)
                                    
                                MDRaisedButton:
                                    text: "Start Simulation"
                                    text_color: (1, 1, 1, 1)
                                    pos_hint: {"x":0.3}
                                    size_hint_x: 0.4
                                    md_bg_color: (0.48, 0.0, 0.80, 1)
                                    on_release: 
                                        root.manager.current = 'rotordes'
                                        root.manager.transition.direction = "left"
                                    
                                MDSeparator:
                                    height: dp(10)
                                    color: (1,1,1,1)

        MDNavigationDrawer:
            id: nav_drawer
            ContentNavigationDrawer:
                orientation: 'vertical'
                padding: dp(8)
                spacing: dp(8)

                MDLabel:
                    text: "ORCestra/ Main Page"
                    font_style: "H6"
                    size_hint: 1, None
                    height: dp(40)
                    pos_hint: {"x":0.05,"top":1}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                                                    
                Image:
                    id: avatar
                    size_hint: (1,None)
                    source: "ORCestra_white_1080.png"
                    height: dp(200)
                
                ScrollView:
                    DrawerList:
                        id: md_list
                        
                        MDList:
                            OneLineIconListItem:
                                text: "Home"
                                on_release: 
                                    root.manager.current = 'main'
                                    root.manager.transition.direction = 'right'

                            
                                IconLeftWidget:
                                    icon: "home"

                            OneLineIconListItem:
                                text: "Thermodynamic Cycle"
                                on_release: 
                                    nav_drawer.set_state("close")
                                    root.manager.current = 'thermo'
                                    root.manager.transition.direction = 'right'
                                theme_text_color: "Custom"
                                text_color: (0.28, 0.39, 0.63, 1)
                            
                                IconLeftWidget:
                                    icon: "alpha-t-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)

                                    
                            OneLineIconListItem:
                                text: "Velocity Triangles"
                                theme_text_color: "Custom"
                                text_color: (0.19, 0.64, 0.20, 1)
                                on_release:
                                    nav_drawer.set_state("close")
                                    root.manager.current = 'veltria'
                                    root.manager.transition.direction = 'right'
                            
                                IconLeftWidget:
                                    icon: "alpha-v-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.19, 0.64, 0.20, 1)


                            OneLineIconListItem:
                                text: "Stator Design"
                                on_release:
                                    nav_drawer.set_state("close")
                                    root.manager.current = 'statordes'
                                    root.manager.transition.direction = 'right'
                                theme_text_color: "Custom"
                                text_color: (0.90, 0.36, 0.0, 1)
                            
                                IconLeftWidget:
                                    icon: "alpha-s-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                    
                            OneLineIconListItem:
                                text: "Rotor Design"
                                on_release:
                                    nav_drawer.set_state("close")
                                    root.manager.current = 'rotordes'
                                    root.manager.transition.direction = 'right'
                                theme_text_color: "Custom"
                                text_color: (0.48, 0.0, 0.80, 1)
                            
                                IconLeftWidget:
                                    icon: "alpha-r-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.48, 0.0, 0.80, 1)

                            OneLineIconListItem:
                                text: "Exit"
                                on_release: app.stop()
                            
                                IconLeftWidget:
                                    icon: "logout"
                                    
<InformationScreen>
    infotext:infotext
    infobar:infobar
    infoimage:infoimage
    infocard:infocard
    name: 'info'
    Screen:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        id: infobar
                        title: 'Information'
                        left_action_items: [["arrow-left-thick",  lambda x: app.change_screen('main')]]
                        elevation:5

                    ScrollView:
                        MDGridLayout:
                            id: box
                            cols: 1
                            adaptive_height: True
                            
                            MDCard:
                                orientation: "vertical"
                                padding: dp(8)
                                size_hint: 1,None
                                height: dp(205)
                                allow_stretch: True
                                keep_ratio: False
                                    
                                Image:
                                    id: infoimage
                                    allow_stretch: False
                                    keep_ratio: False
                                    source:"ORCFigureLayout.JPG"
                                    
                            MDSeparator:
                                height: dp(10)
                                color: (1,1,1,1)
                                    
                            MDCard:
                                id: infocard
                                orientation: "vertical"
                                padding: dp(8)
                                size_hint: 1,None
                                height: 45223*Window.width**(-0.822)
                                allow_stretch: True
                                keep_ratio: True
                                    
                                MDLabel:
                                    id: infotext
                                    text: "Thermodynamic Cycle"
                                    size_hint: 0.95, None
                                    height: 45223*Window.width**(-0.822)
                                    pos_hint: {"x":0.025,"top":1}
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)

<ThermodynamicsScreen>:
    thermotab1:thermotab1
    thermotab2:thermotab2
    thermotab3:thermotab3
    id: thermo
    name: 'thermo'
    Screen:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        title: 'Thermodynamic Cycle'
                        left_action_items: [["menu", lambda x: nav_drawer_thermo.set_state("open")]]
                        elevation:5
                            
                    MDTabs:
                        allow_stretch: False
                        id: thermotabs
                        Thermotab1:
                            id: thermotab1
                            text: "Working Media"
                            thermotab2:thermotab2
                            thermotab3:thermotab3
                            
                        Thermotab2:
                            id: thermotab2
                            text: "Components"
                            thermotab1:thermotab1
                            thermotab3:thermotab3
                            
                        Thermotab3:
                            id: thermotab3
                            text: "Calculate"
                            thermotab1:thermotab1
                            thermotab2:thermotab2                    
                                
        MDNavigationDrawer:
            id: nav_drawer_thermo
            ContentNavigationDrawer:
                orientation: 'vertical'
                padding: dp(8)
                spacing: dp(8)
                
                MDLabel:
                    text: "ORCestra/ Thermodynamic Cycle"
                    font_style: "H6"
                    size_hint: 1, None
                    height: dp(40)
                    pos_hint: {"x":0.05,"top":1}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                                                    
                Image:
                    id: avatar
                    size_hint: (1,None)
                    source: "ORCFigureLayout.JPG"
                    height: dp(200)
                    
                ScrollView:
                    DrawerList:
                        id: md_list
                        
                        MDList:
                            OneLineIconListItem:
                                text: "Home"
                                on_release:
                                    nav_drawer_thermo.set_state("close")
                                    root.manager.current = 'main'

                            
                                IconLeftWidget:
                                    icon: "home"

                            OneLineIconListItem:
                                text: "Thermodynamic Cycle"
                                on_release:
                                    nav_drawer_thermo.set_state("close")
                                    root.manager.current = 'thermo'
                                theme_text_color: "Custom"
                                text_color: (0.28, 0.39, 0.63, 1)
                            
                                IconLeftWidget:
                                    icon: "alpha-t-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    
                            OneLineIconListItem:
                                text: "Velocity Triangles"
                                theme_text_color: "Custom"
                                text_color: (0.19, 0.64, 0.20, 1)
                                on_release:
                                    nav_drawer_thermo.set_state("close")
                                    root.manager.current = 'veltria'
                            
                                IconLeftWidget:
                                    icon: "alpha-v-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.19, 0.64, 0.20, 1)


                            OneLineIconListItem:
                                text: "Stator Design"
                                on_release:
                                    nav_drawer_thermo.set_state("close")
                                    root.manager.current = 'statordes'
                                theme_text_color: "Custom"
                                text_color: (0.90, 0.36, 0.0, 1)
                            
                                IconLeftWidget:
                                    icon: "alpha-s-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                    
                            OneLineIconListItem:
                                text: "Rotor Design"
                                theme_text_color: "Custom"
                                text_color: (0.48, 0.0, 0.80, 1)
                                on_release:
                                    nav_drawer_thermo.set_state("close")
                                    root.manager.current = 'rotordes'
                            
                                IconLeftWidget:
                                    icon: "alpha-r-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.48, 0.0, 0.80, 1)

                            OneLineIconListItem:
                                text: "Exit"
                                on_release: app.stop()
                            
                                IconLeftWidget:
                                    icon: "logout"

<Thermotab1>:
    workingfluidbutton:workingfluidbutton
    gwp100field:gwp100field
    odpfield:odpfield
    ashrae34field:ashrae34field
    mflowtext:mflowtext
    mflowminus:mflowminus
    mflow:mflow
    mflowplus:mflowplus
    mflowreset:mflowreset
    mflowsldr:mflowsldr
    mflowround:mflowround
    massflowopt:massflowopt
    orientation: "vertical"
    cols: 1
    id: thermotab1
    ScrollView:
        do_scroll_x: True
        do_scroll_y: True
        MDGridLayout:
            id: box
            cols: 1
            adaptive_height: True
            
            MDToolbar:
                title: "Working Fluid Inputs"
                md_bg_color: (0.60, 0.76, 1, 1)

            MDList:
                OneLineIconListItem:
                    id: workingfluidbutton
                    text: "Working Fluid : Select"
                    font_style: "H6"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    on_release: root.WorkingFluid_bottom_sheet()
                    
                MDGridLayout:
                    cols: 1
                    height: dp(30)
                    adaptive_height: True

                    MDCard:
                        MDLabel:
                            text:"    GWP100"
                            font_style: "H6"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x:0.4
                            pos_hint: {"x":0.05,"center_y":0.5}

                        MDLabel:
                            text:"ODP"
                            font_style: "H6"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x:0.3
                            pos_hint: {"x":0.4,"center_y":0.5}

                        MDLabel:
                            text:"ASHRAE34"
                            font_style: "H6"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x:0.3
                            pos_hint: {"x":0.65,"center_y":0.5}
                            
                MDGridLayout:
                    cols: 1
                    height:dp(30)
                    adaptive_height: True

                    MDCard:
                        MDLabel:
                            id: gwp100field
                            text:"    None"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x:0.4
                            pos_hint: {"x":0.05,"center_y":0.5}
                            
                        MDLabel:
                            id: odpfield
                            text:"None"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x:0.3
                            pos_hint: {"x":0.4,"center_y":0.5}

                        MDLabel:
                            id:ashrae34field
                            text:"None"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x:0.3
                            pos_hint: {"x":0.75,"center_y":0.5}

                MDGridLayout:
                    cols: 1
                    height: dp(45)
                    adaptive_height: True
                    
                    MDCard:
                        MDLabel:
                            id: mflowtext
                            text: "   Mass flow [kg/s]:"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x : 0.45
                            pos_hint: {"center_x":0.25,"center_y":0.5}

                        MDIconButton:
                            id: mflowminus
                            icon: "minus"
                            pos_hint: {"x": 0.55, "center_y": .5}
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            on_release:
                                root.mflow.text = "{:.2f}".format(float(root.mflow.text) - 0.2)
                                root.mflowsldr.value = float(root.mflowsldr.value) - 0.2

                        MDTextFieldRect:
                            id: mflow
                            text: "2.0"
                            hint_text: "Enter value"
                            size_hint: 0.25,0.7
                            pos_hint: {"x":0.65,"center_y":0.5}
                            color_mode: 'custom'
                            multiline: False
                            line_color_focus: (0.28, 0.39, 0.63, 1)

                        MDIconButton:
                            id: mflowplus
                            icon: "plus"
                            pos_hint: {"x": 0.85, "center_y": .5}
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            on_release:
                                root.mflow.text = "{:.2f}".format(float(root.mflow.text) + 0.2)
                                root.mflowsldr.value = float(root.mflowsldr.value) + 0.2
                MDGridLayout:
                    cols: 1
                    height: dp(40)
                    adaptive_height: True

                    MDCard:

                        MDIconButton:
                            id: mflowreset
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            pos_hint: {"center_x": 0.5, "center_y": .5}
                            size_hint_x : None
                            icon: "restore"
                            on_release:
                                root.mflow.text = "{:.2f}".format(2.0)
                                root.mflowsldr.value = 2.0

                        MDSlider:
                            id: mflowsldr
                            min: 0.1
                            max: 10
                            value: 2
                            size_hint_x : 0.7
                            pos_hint: {"x":0.10}
                            hint: False
                            thumb_color_down: (0.28, 0.39, 0.63, 1)
                            on_value:
                                root.mflow.text = "{:.2f}".format(mflowsldr.value)

                        MDIconButton:
                            id: mflowround
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x : None
                            pos_hint: {"center_x": 0.5, "center_y": .5}
                            icon: "alpha-r-circle-outline"
                            on_release:
                                root.mflow.text = "{:.2f}".format(round(float(root.mflow.text)))
                                root.mflowsldr.value = round(float(root.mflowsldr.value))

                MDGridLayout:
                    cols: 1
                    height: dp(40)
                    adaptive_height: True

                    MDCard:
                        MDLabel:
                            text: "     Mass flow Optimazation:"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x : 0.55
                            pos_hint: {"x":0.15,"y":0.05}

                        MDSwitch:
                            id: massflowopt
                            size_hint_x: 0.15
                            pos_hint: {"x":0.5,"y":0.05}
                            on_active:
                                root.OptActivate()
                            on_release:
                                root.OptActivate()
                                
                        MDLabel:
                            text: " "
                            theme_text_color: "Custom"
                            size_hint_x : 0.1

                OneLineIconListItem:
                    id: fluidtypetext
                    text: "Fluid Type : None"
                    font_style: "H6"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

            MDCard:
                orientation: "vertical"
                size_hint: 1,None
                height: dp(250)
                allow_stretch: True
                keep_ratio: False

                Image:
                    id: fluidtypeimage
                    allow_stretch: False
                    keep_ratio: False
                    source:"Ts_Dry.png"

<Thermotab2>:
    heatsourcebutton:heatsourcebutton
    th1:th1
    th1sldr:th1sldr
    ph1:ph1
    ph1sldr:ph1sldr
    mhflow:mhflow
    mhflowsldr:mhflowsldr
    th2:th2
    ph2:ph2
    pinchevap:pinchevap
    pinchevapsldr:pinchevapsldr
    dosh:dosh
    doshsldr:doshsldr
    pinchcond:pinchcond
    pinchcondsldr:pinchcondsldr
    dosc:dosc
    doscsldr:doscsldr
    tw1:tw1
    tw1sldr:tw1sldr
    pw1:pw1
    pw1sldr:pw1sldr
    mwflow:mwflow
    mwflowsldr:mwflowsldr
    npump:npump
    npumpsldr:npumpsldr

    orientation: "vertical"
    cols: 1
    id: thermotab2
    ScrollView:
        do_scroll_x: True
        do_scroll_y: True
        MDGridLayout:
            id: box
            cols: 1
            adaptive_height: True
            MDToolbar:
                title: "Heat Source & Evaporator"
                md_bg_color: (0.60, 0.76, 1, 1)

            MDList:
                OneLineIconListItem:
                    id: heatsourcebutton
                    text: "Heat Source : Select"
                    font_style: "H6"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    pos_hint: {"center_x":0.5, "center_y":0.5}
                    on_release: root.HeatSource_bottom_sheet()

                MDGridLayout:
                    cols: 1
                    height: dp(25)
                    adaptive_height: True
                
                    MDCard:
                        MDLabel:
                            text: "   Hot fluid Inputs:"
                            font_style: "Button"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            pos_hint: {"x":0.10,"y":0.0}

                MDGridLayout:
                    cols: 1
                    height: dp(45)
                    adaptive_height: True
                    
                    MDCard:

                        MDLabel:
                            text: "   Inlet Temperature [C]:"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x : 0.45
                            pos_hint: {"center_x":0.25,"center_y":0.5}
                            
                        MDIconButton:
                            icon: "minus"
                            pos_hint: {"x": 0.55, "center_y": .5}
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            on_release:
                                root.th1.text = "{:.2f}".format(float(root.th1.text) - 5)
                                root.th1sldr.value = float(root.th1sldr.value) - 5

                        MDTextFieldRect:
                            id: th1
                            text: "150.0"
                            hint_text: "Enter value"
                            size_hint: 0.25,0.7
                            pos_hint: {"x":0.65,"center_y":0.5}
                            color_mode: 'custom'
                            multiline: False
                            line_color_focus: (0.28, 0.39, 0.63, 1)

                        MDIconButton:
                            icon: "plus"
                            pos_hint: {"x": 0.85, "center_y": .5}
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            on_release:
                                root.th1.text = "{:.2f}".format(float(root.th1.text) + 5)
                                root.th1sldr.value = float(root.th1sldr.value) + 5

                MDGridLayout:
                    cols: 1
                    height: dp(40)
                    adaptive_height: True

                    MDCard:
                        
                        MDIconButton:
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x : None
                            pos_hint: {"center_x": 0.5, "center_y": .5}
                            icon: "restore"
                            on_release:
                                root.th1.text = "{:.2f}".format(150)
                                root.th1sldr.value = 150
                                
                        MDSlider:
                            id: th1sldr
                            min: 60
                            max: 450
                            value: 150
                            size_hint_x : 0.7
                            pos_hint: {"x":0.10}
                            hint: False
                            thumb_color_down: (0.28, 0.39, 0.63, 1)
                            on_value:
                                root.th1.text = "{:.2f}".format(th1sldr.value)

                        MDIconButton:
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x : None
                            pos_hint: {"center_x": 0.5, "center_y": .5}
                            icon: "alpha-r-circle-outline"
                            on_release:
                                root.th1.text = "{:.2f}".format(round(float(root.th1.text)))
                                root.th1sldr.value = round(float(root.th1sldr.value))

                MDGridLayout:
                    cols: 1
                    height: dp(45)
                    adaptive_height: True
                    
                    MDCard:
                        id: itemhotinletpres

                        MDLabel:
                            text: "   Inlet Pressure [bar]:"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x : 0.45
                            pos_hint: {"x":0.15,"y":0.05}
                        
                        MDIconButton:
                            icon: "minus"
                            pos_hint: {"x": 0.55, "center_y": .5}
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            on_release:
                                root.ph1.text = "{:.2f}".format(float(root.ph1.text) - 0.2)
                                root.ph1sldr.value = float(root.ph1sldr.value) - 0.2

                        MDTextFieldRect:
                            id: ph1
                            text: "0.989"
                            hint_text: "Enter value"
                            size_hint: 0.25,0.7
                            pos_hint: {"x":0.70,"y":0.15}
                            color_mode: 'custom'
                            multiline: False
                            line_color_focus: (0.28, 0.39, 0.63, 1)
                        
                        MDIconButton:
                            icon: "plus"
                            pos_hint: {"x": 0.85, "center_y": .5}
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            on_release:
                                root.ph1.text = "{:.2f}".format(float(root.ph1.text) + 0.2)
                                root.ph1sldr.value = float(root.ph1sldr.value) + 0.2
                MDGridLayout:
                    cols: 1
                    height: dp(40)
                    adaptive_height: True

                    MDCard:
                        
                        MDIconButton:
                            theme_text_color: "Custom"
                            size_hint_x : None
                            text_color: (0.28, 0.39, 0.63, 1)
                            icon: "restore"
                            on_release:
                                root.ph1.text = "{:.3f}".format(0.989)
                                root.ph1sldr.value = 0.989

                        MDSlider:
                            id: ph1sldr
                            min: 0.5
                            max: 3.5
                            value: 0.989
                            size_hint_x : 0.7
                            pos_hint: {"x":0.10}
                            hint: False
                            thumb_color_down: (0.28, 0.39, 0.63, 1)
                            on_value:
                                root.ph1.text = "{:.3f}".format(ph1sldr.value)
                                
                        MDIconButton:
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x : None
                            pos_hint: {"center_x": 0.5, "center_y": .5}
                            icon: "alpha-r-circle-outline"
                            on_release:
                                root.ph1.text = "{:.2f}".format(round(float(root.ph1.text),1))
                                root.ph1sldr.value = round(float(root.ph1sldr.value),1)
                MDGridLayout:
                    cols: 1
                    height: dp(45)
                    adaptive_height: True
                    
                    MDCard:
                        id: itemhotmflow

                        MDLabel:
                            text: "   Mass Flow [kg/s]:"
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x : 0.45
                            pos_hint: {"x":0.15,"y":0.05}
                            
                        MDIconButton:
                            icon: "minus"
                            pos_hint: {"x": 0.55, "center_y": .5}
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            on_release:
                                root.mhflow.text = "{:.2f}".format(float(root.mhflow.text) - 0.5)
                                root.mhflowsldr.value = float(root.mhflowsldr.value) - 0.5

                        MDTextFieldRect:
                            id: mhflow
                            text: "19.2"
                            hint_text: "Enter value"
                            size_hint: 0.25,0.7
                            pos_hint: {"x":0.70,"y":0.15}
                            color_mode: 'custom'
                            multiline: False
                            line_color_focus: (0.28, 0.39, 0.63, 1)

                        MDIconButton:
                            icon: "plus"
                            pos_hint: {"x": 0.85, "center_y": .5}
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            on_release:
                                root.mhflow.text = "{:.2f}".format(float(root.mhflow.text) + 0.5)
                                root.mhflowsldr.value = float(root.mhflowsldr.value) + 0.5
                        
                MDGridLayout:
                    cols: 1
                    height: dp(40)
                    adaptive_height: True

                    MDCard:
                        MDIconButton:
                            size_hint: None,None
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            icon: "restore"
                            on_release:
                                root.mhflow.text = "{:.2f}".format(19.2)
                                root.mhflowsldr.value = 19.2

                        MDSlider:
                            id: mhflowsldr
                            min: 1
                            max: 35
                            value: 19.2
                            size_hint_x : 0.7
                            pos_hint: {"x":0.10}
                            hint: False
                            thumb_color_down: (0.28, 0.39, 0.63, 1)
                            on_value:
                                root.mhflow.text = "{:.2f}".format(mhflowsldr.value)
                                
                        MDIconButton:
                            theme_text_color: "Custom"
                            text_color: (0.28, 0.39, 0.63, 1)
                            size_hint_x : None
                            pos_hint: {"center_x": 0.5, "center_y": .5}
                            icon: "alpha-r-circle-outline"
                            on_release:
                                root.mhflow.text = "{:.2f}".format(round(float(root.mhflow.text),1))
                                root.mhflowsldr.value = round(float(root.mhflowsldr.value),1)
                OneLineIconListItem:
                    height: dp(120)
                    MDLabel:
                        text: "Hot fluid Outputs:"
                        font_style: "Button"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        pos_hint: {"x":0.10,"y":0.4}

                    MDLabel:
                        text: "Outlet Temperature [C]:"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : 0.5
                        pos_hint: {"x":0.15,"y":0.10}

                    MDLabel:
                        id: th2
                        text: "None"
                        hint_text: "Enter value"
                        size_hint: 0.25,0.25
                        pos_hint: {"x":0.65,"y":0.475}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)

                    MDLabel:
                        text: "Outlet Pressure [bar]:"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : 0.5
                        pos_hint: {"x":0.15,"y":-0.25}

                    MDLabel:
                        id: ph2
                        text: "None"
                        size_hint: 0.25,0.25
                        pos_hint: {"x":0.65,"y":0.125}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
            MDCard:
                orientation: "vertical"
                padding: dp(8)
                size_hint: 1,None
                height: Window.width*0.316239316
                allow_stretch: True
                keep_ratio: False

                Image:
                    allow_stretch: True
                    keep_ratio: False
                    source:"Evaporator.png"
            MDGridLayout:
                cols: 1
                height: dp(25)
                adaptive_height: True

                MDCard:
                
                    MDLabel:
                        text: "   Evaporator:"
                        font_style: "Button"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        pos_hint: {"x":0.10,"y":0.1}
                    
            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    id: itempinchpoint
                    MDIconButton:
                        id: infopinchevap
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        icon: "information"
                        on_release: root.show_evap_custom_bottom_sheet("pinchpoint")

                    MDLabel:
                        text: "Pinch point [C]:"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : 0.35
                        pos_hint: {"x":0.25,"y":0.05}
                        
                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"x": 0.55, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.pinchevap.text = "{:.2f}".format(float(root.pinchevap.text) - 1)
                            root.pinchevapsldr.value = float(root.pinchevapsldr.value) - 1

                    MDTextFieldRect:
                        id: pinchevap
                        text: "5.00"
                        hint_text: "Enter value"
                        size_hint: 0.2,0.7
                        pos_hint: {"x":0.70,"y":0.15}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.28, 0.39, 0.63, 1)
                        
                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"x": 0.85, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.pinchevap.text = "{:.2f}".format(float(root.pinchevap.text) + 1)
                            root.pinchevapsldr.value = float(root.pinchevapsldr.value) + 1

            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(40)

                MDCard:
                    MDIconButton:
                        id: resetpinchevap
                        size_hint_x: None
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        icon: "restore"
                        on_release:
                            root.pinchevap.text = "{:.2f}".format(5)
                            root.pinchevapsldr.value = 5

                    MDSlider:
                        id: pinchevapsldr
                        min: 0.1
                        max: 450
                        value: 5
                        size_hint_x : 0.7
                        pos_hint: {"x":0.10}
                        hint: False
                        thumb_color_down: (0.28, 0.39, 0.63, 1)
                        on_value:
                            root.pinchevap.text = "{:.2f}".format(pinchevapsldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.pinchevap.text = "{:.2f}".format(round(float(root.pinchevap.text),0))
                            root.pinchevapsldr.value = round(float(root.pinchevapsldr.value),0)
            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    id: itemdosh
                    MDIconButton:
                        id: infopinchevap
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        icon: "information"
                        on_release: root.show_evap_custom_bottom_sheet("dosh")

                    MDLabel:
                        text: "Degrees of superheat [C]:"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : 0.35
                        pos_hint: {"x":0.25,"y":0.05}
                        
                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"x": 0.55, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.dosh.text = "{:.2f}".format(float(root.dosh.text) - 1)
                            root.doshsldr.value = float(root.doshsldr.value) - 1

                    MDTextFieldRect:
                        id: dosh
                        text: "0.00"
                        hint_text: "Enter value"
                        size_hint: 0.2, 0.7
                        pos_hint: {"x":0.70,"center_y":0.5}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.28, 0.39, 0.63, 1)
                        
                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"x": 0.85, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.dosh.text = "{:.2f}".format(float(root.dosh.text) + 1)
                            root.doshsldr.value = float(root.doshsldr.value) + 1


            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(40)

                MDCard:
                    MDIconButton:
                        id: resetdosh
                        size_hint_x: None
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        icon: "restore"
                        on_release:
                            root.dosh.text = "{:.2f}".format(0)
                            root.doshsldr.value = 0

                    MDSlider:
                        id: doshsldr
                        min: 0
                        max: 450
                        value: 0
                        size_hint_x : 0.7
                        pos_hint: {"x":0.10}
                        hint: False
                        thumb_color_down: (0.28, 0.39, 0.63, 1)
                        on_value:
                            root.dosh.text = "{:.2f}".format(doshsldr.value)
                        
                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.dosh.text = "{:.2f}".format(round(float(root.dosh.text),0))
                            root.doshsldr.value = round(float(root.doshsldr.value),0)

            OneLineIconListItem:
                height: dp(120)
                on_release:
                    root.statepressed = 2
                    app.screen_helper.current = 'thermostate'
                    app.screen_helper.transition.direction = 'left'

                MDLabel:
                    text: "State 2:"
                    font_style: "Button"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    pos_hint: {"x":0.10,"y":0.4}

                MDRaisedButton:
                    text: "2"
                    font_size: "24sp"
                    size_hint: None,0.45
                    pos_hint: {"x":0.05,"center_y":0.45}
                    on_release:
                        root.statepressed = 2
                        app.screen_helper.current = 'thermostate'
                        app.screen_helper.transition.direction = 'left'

      
                MDLabel:
                    text: "Temperature [C]:"
                    theme_text_color: "Custom"
                    size_hint_x : 0.4
                    text_color: (0.28, 0.39, 0.63, 1)
                    pos_hint: {"x":0.35,"y":0.10}

                MDLabel:
                    id: t21
                    text: "None"
                    hint_text: "Enter value"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.75,"y":0.475}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

                MDLabel:
                    text: "Pressure [bar]:"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint_x : 0.4
                    pos_hint: {"x":0.35,"y":-0.25}

                MDLabel:
                    id: p21
                    text: "None"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.75,"y":0.125}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

            OneLineIconListItem:
                height: dp(120)
                on_release:
                    root.statepressed = 3
                    app.screen_helper.current = 'thermostate'
                    app.screen_helper.transition.direction = 'left'

                MDLabel:
                    text: "State 3:"
                    font_style: "Button"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    pos_hint: {"x":0.10,"y":0.4}

                MDRaisedButton:
                    text: "3"
                    font_size: "24sp"
                    size_hint: 0.15,0.45
                    pos_hint: {"x":0.05,"center_y":0.45}
                    on_release:
                        root.statepressed = 3
                        app.screen_helper.current = 'thermostate'
                        app.screen_helper.transition.direction = 'left'

                MDLabel:
                    text: "Temperature [C]:"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint_x : 0.4
                    pos_hint: {"x":0.35,"y":0.10}

                MDLabel:
                    id: t3
                    text: "None"
                    hint_text: "Enter value"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.75,"y":0.475}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

                MDLabel:
                    text: "Pressure [bar]:"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint_x : 0.4
                    pos_hint: {"x":0.35,"y":-0.25}

                MDLabel:
                    id: p3
                    text: "None"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.75,"y":0.125}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

            MDToolbar:
                title: "Turbine"
                md_bg_color: (0.60, 0.76, 1, 1)

            MDCard:
                orientation: "vertical"
                padding: dp(8)
                size_hint: 1,None
                height: Window.width*0.316239316
                allow_stretch: True
                keep_ratio: False

                Image:
                    allow_stretch: True
                    keep_ratio: False
                    source:"TurbineIcon.png"

            OneLineIconListItem:
                height: dp(120)
                on_release:
                    root.statepressed = 4
                    app.screen_helper.current = 'thermostate'
                    app.screen_helper.transition.direction = 'left'

                MDLabel:
                    text: "State 4:"
                    font_style: "Button"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    pos_hint: {"x":0.10,"y":0.4}

                MDRaisedButton:
                    text: "4"
                    font_size: "24sp"
                    size_hint: 0.15,0.45
                    pos_hint: {"x":0.05,"center_y":0.45}
                    on_release:
                        root.statepressed = 4
                        app.screen_helper.current = 'thermostate'
                        app.screen_helper.transition.direction = 'left'

                MDLabel:
                    text: "Temperature [C]:"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint_x : 0.4
                    pos_hint: {"x":0.35,"y":0.10}

                MDLabel:
                    id: t4
                    text: "None"
                    hint_text: "Enter value"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.75,"y":0.475}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

                MDLabel:
                    text: "Pressure [bar]:"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint_x : 0.4
                    pos_hint: {"x":0.35,"y":-0.25}

                MDLabel:
                    id: p4
                    text: "None"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.75,"y":0.125}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

            MDToolbar:
                title: "Heat Sink & Condenser"
                md_bg_color: (0.60, 0.76, 1, 1)

            OneLineIconListItem:
                height: dp(120)
                on_release:
                    root.statepressed = 1
                    app.screen_helper.current = 'thermostate'
                    app.screen_helper.transition.direction = 'left'

                MDLabel:
                    text: "State 1:"
                    font_style: "Button"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    pos_hint: {"x":0.10,"y":0.4}

                MDRaisedButton:
                    text: "1"
                    font_size: "24sp"
                    size_hint: 0.15,0.45
                    pos_hint: {"x":0.05,"center_y":0.45}
                    on_release:
                        root.statepressed = 1
                        app.screen_helper.current = 'thermostate'
                        app.screen_helper.transition.direction = 'left'

                MDLabel:
                    text: "Temperature [C]:"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint_x : 0.4
                    pos_hint: {"x":0.35,"y":0.10}

                MDLabel:
                    id: t1
                    text: "None"
                    hint_text: "Enter value"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.75,"y":0.475}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

                MDLabel:
                    text: "Pressure [bar]:"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint_x : 0.4
                    pos_hint: {"x":0.35,"y":-0.25}

                MDLabel:
                    id: p1
                    text: "None"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.75,"y":0.125}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

            MDGridLayout:
                cols: 1
                height: dp(25)
                adaptive_height: True

                MDCard:
                
                    MDLabel:
                        text: "   Condenser:"
                        font_style: "Button"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        pos_hint: {"x":0.10,"y":0.1}
                        
            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    id: itempinchpoint
                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        icon: "information"
                        on_release: root.show_evap_custom_bottom_sheet("pinchpoint")

                    MDLabel:
                        text: "Pinch point [C]:"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : 0.35
                        pos_hint: {"x":0.25,"y":0.05}
                        
                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"x": 0.55, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.pinchcond.text = "{:.2f}".format(float(root.pinchcond.text) - 1)
                            root.pinchcondsldr.value = float(root.pinchcondsldr.value) - 1

                    MDTextFieldRect:
                        id: pinchcond
                        text: "5.00"
                        hint_text: "Enter value"
                        size_hint: 0.2,0.7
                        pos_hint: {"x":0.70,"y":0.15}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.28, 0.39, 0.63, 1)
                        
                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"x": 0.85, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.pinchcond.text = "{:.2f}".format(float(root.pinchcond.text) + 1)
                            root.pinchcondsldr.value = float(root.pinchcondsldr.value) + 1

            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(40)

                MDCard:
                    MDIconButton:
                        id: resetpinchcond
                        size_hint_x: None
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        icon: "restore"
                        on_release:
                            root.pinchcond.text = "{:.2f}".format(5)
                            root.pinchcondsldr.value = 5

                    MDSlider:
                        id: pinchcondsldr
                        min: 1
                        max: 30
                        value: 5
                        size_hint_x : 0.7
                        pos_hint: {"x":0.10}
                        hint: False
                        thumb_color_down: (0.28, 0.39, 0.63, 1)
                        on_value:
                            root.pinchcond.text = "{:.2f}".format(pinchcondsldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.pinchcond.text = "{:.2f}".format(round(float(root.pinchcond.text),0))
                            root.pinchcondsldr.value = round(float(root.pinchcondsldr.value),0)

            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    id: itempinchpoint
                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        icon: "information"
                        on_release: root.show_evap_custom_bottom_sheet("pinchpoint")

                    MDLabel:
                        text: "Degrees of subcooling [C]:"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : 0.35
                        pos_hint: {"x":0.25,"y":0.05}
                        
                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"x": 0.55, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.dosc.text = "{:.2f}".format(float(root.dosc.text) - 1)
                            root.doscsldr.value = float(root.doscsldr.value) - 1

                    MDTextFieldRect:
                        id: dosc
                        text: "0.00"
                        hint_text: "Enter value"
                        size_hint: 0.2,0.7
                        pos_hint: {"x":0.70,"y":0.15}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.28, 0.39, 0.63, 1)
                        
                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"x": 0.85, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.dosc.text = "{:.2f}".format(float(root.dosc.text) + 1)
                            root.doscsldr.value = float(root.doscsldr.value) + 1

            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(40)

                MDCard:
                    MDIconButton:
                        id: resetdosc
                        size_hint_x: None
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        icon: "restore"
                        on_release:
                            root.dosc.text = "{:.2f}".format(0)
                            root.doscsldr.value = 0

                    MDSlider:
                        id: doscsldr
                        min: 0
                        max: 30
                        value: 0
                        size_hint_x : 0.7
                        pos_hint: {"x":0.10}
                        hint: False
                        thumb_color_down: (0.28, 0.39, 0.63, 1)
                        on_value:
                            root.dosc.text = "{:.2f}".format(doscsldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.dosc.text = "{:.2f}".format(round(float(root.dosc.text),0))
                            root.doscsldr.value = round(float(root.doscsldr.value),0)
            MDCard:
                orientation: "vertical"
                padding: dp(8)
                size_hint: 1,None
                height: Window.width*0.427272727
                allow_stretch: True
                keep_ratio: False

                Image:
                    allow_stretch: True
                    keep_ratio: False
                    source:"CondenserIcon.png"

            OneLineIconListItem:
                id: heatsinkbutton
                text: "Heat Sink : Water"
                font_style: "H6"
                theme_text_color: "Custom"
                text_color: (0.28, 0.39, 0.63, 1)
            MDGridLayout:
                cols: 1
                height: dp(25)
                adaptive_height: True

                MDCard:
                    MDLabel:
                        text: "   Cold fluid Inputs:"
                        font_style: "Button"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        pos_hint: {"x":0.10,"y":0.0}

            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    id: itemcoldinlettemp

                    MDLabel:
                        text: "   Inlet Temperature [C]:"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : 0.45
                        pos_hint: {"center_x":0.25,"center_y":0.5}

                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"x": 0.55, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.tw1.text = "{:.2f}".format(float(root.tw1.text) - 5)
                            root.tw1sldr.value = float(root.tw1sldr.value) - 5

                    MDTextFieldRect:
                        id: tw1
                        text: "15.0"
                        hint_text: "Enter value"
                        size_hint: 0.25,0.7
                        pos_hint: {"x":0.65,"center_y":0.5}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.28, 0.39, 0.63, 1)

                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"x": 0.85, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.tw1.text = "{:.2f}".format(float(root.tw1.text) + 5)
                            root.tw1sldr.value = float(root.tw1sldr.value) + 5


            MDGridLayout:
                cols: 1
                height: dp(40)
                adaptive_height: True

                MDCard:

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "restore"
                        on_release:
                            root.tw1.text = "{:.2f}".format(15)
                            root.tw1sldr.value = 15

                    MDSlider:
                        id: tw1sldr
                        min: 1
                        max: 60
                        value: 15
                        size_hint_x : 0.7
                        pos_hint: {"x":0.10}
                        hint: False
                        thumb_color_down: (0.28, 0.39, 0.63, 1)
                        on_value:
                            root.tw1.text = "{:.2f}".format(tw1sldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.tw1.text = "{:.2f}".format(round(float(root.tw1.text)))
                            root.tw1sldr.value = round(float(root.tw1sldr.value))

            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    id: itemcoldinletpres

                    MDLabel:
                        text: "   Inlet Pressure [bar]:"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : 0.45
                        pos_hint: {"x":0.15,"y":0.05}

                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"x": 0.55, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.pw1.text = "{:.2f}".format(float(root.pw1.text) - 0.2)
                            root.pw1sldr.value = float(root.pw1sldr.value) - 0.2

                    MDTextFieldRect:
                        id: pw1
                        text: "1.013"
                        hint_text: "Enter value"
                        size_hint: 0.25,0.7
                        pos_hint: {"x":0.70,"y":0.15}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.28, 0.39, 0.63, 1)

                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"x": 0.85, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.pw1.text = "{:.2f}".format(float(root.pw1.text) + 0.2)
                            root.pw1sldr.value = float(root.pw1sldr.value) + 0.2



            MDGridLayout:
                cols: 1
                height: dp(40)
                adaptive_height: True

                MDCard:

                    MDIconButton:
                        theme_text_color: "Custom"
                        size_hint_x : None
                        text_color: (0.28, 0.39, 0.63, 1)
                        icon: "restore"
                        on_release:
                            root.pw1.text = "{:.3f}".format(1.013)
                            root.pw1sldr.value = 1.013

                    MDSlider:
                        id: pw1sldr
                        min: 0.5
                        max: 3.5
                        value: 1.013
                        size_hint_x : 0.7
                        pos_hint: {"x":0.10}
                        hint: False
                        thumb_color_down: (0.28, 0.39, 0.63, 1)
                        on_value:
                            root.pw1.text = "{:.3f}".format(pw1sldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.pw1.text = "{:.2f}".format(round(float(root.pw1.text),1))
                            root.pw1sldr.value = round(float(root.pw1sldr.value),1)

            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    id: itemcoldmflow

                    MDLabel:
                        text: "   Mass Flow [kg/s]:"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : 0.45
                        pos_hint: {"x":0.15,"y":0.05}

                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"x": 0.55, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.mwflow.text = "{:.2f}".format(float(root.mwflow.text) - 0.5)
                            root.mwflowsldr.value = float(root.mwflowsldr.value) - 0.5

                    MDTextFieldRect:
                        id: mwflow
                        text: "10"
                        hint_text: "Enter value"
                        size_hint: 0.25,0.7
                        pos_hint: {"x":0.70,"y":0.15}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.28, 0.39, 0.63, 1)

                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"x": 0.85, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.mwflow.text = "{:.2f}".format(float(root.mwflow.text) + 0.5)
                            root.mwflowsldr.value = float(root.mwflowsldr.value) + 0.5

            MDGridLayout:
                cols: 1
                height: dp(40)
                adaptive_height: True

                MDCard:
                    MDIconButton:
                        size_hint: None,None
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        icon: "restore"
                        on_release:
                            root.mwflow.text = "{:.2f}".format(10)
                            root.mhflowsldr.value = 10

                    MDSlider:
                        id: mwflowsldr
                        min: 1
                        max: 35
                        value: 10
                        size_hint_x : 0.7
                        pos_hint: {"x":0.10}
                        hint: False
                        thumb_color_down: (0.28, 0.39, 0.63, 1)
                        on_value:
                            root.mwflow.text = "{:.2f}".format(mwflowsldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.mwflow.text = "{:.2f}".format(round(float(root.mwflow.text),1))
                            root.mwflowsldr.value = round(float(root.mwflowsldr.value),1)

            OneLineIconListItem:
                height: dp(120)
                MDLabel:
                    text: "Cold fluid Outputs:"
                    font_style: "Button"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    pos_hint: {"x":0.10,"y":0.4}

                MDLabel:
                    text: "Outlet Temperature [C]:"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint_x : 0.5
                    pos_hint: {"x":0.15,"y":0.10}

                MDLabel:
                    id: tw2
                    text: "None"
                    hint_text: "Enter value"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.65,"y":0.475}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

                MDLabel:
                    text: "Outlet Pressure [bar]:"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint_x : 0.5
                    pos_hint: {"x":0.15,"y":-0.25}

                MDLabel:
                    id: pw2
                    text: "None"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.65,"y":0.125}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

            MDToolbar:
                title: "Pump"
                md_bg_color: (0.60, 0.76, 1, 1)

            MDCard:
                orientation: "vertical"
                padding: dp(8)
                size_hint: 1,None
                height: Window.width*0.316239316
                allow_stretch: True
                keep_ratio: False

                Image:
                    allow_stretch: True
                    keep_ratio: False
                    source:"PumpIcon.png"
                    
            MDGridLayout:
                cols: 1
                height: dp(25)
                adaptive_height: True

                MDCard:
                    MDLabel:
                        text: "   Pump Inputs:"
                        font_style: "Button"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        pos_hint: {"x":0.10,"y":0.0}

            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:

                    MDLabel:
                        text: "   Isentropic efficiency [-]:"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : 0.45
                        pos_hint: {"center_x":0.25,"center_y":0.5}

                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"x": 0.55, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.npump.text = "{:.2f}".format(float(root.npump.text) - 0.01)
                            root.npumpsldr.value = float(root.npumpsldr.value) - 0.01

                    MDTextFieldRect:
                        id: npump
                        text: "0.90"
                        hint_text: "Enter value"
                        size_hint: 0.25,0.7
                        pos_hint: {"x":0.65,"center_y":0.5}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.28, 0.39, 0.63, 1)

                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"x": 0.85, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        on_release:
                            root.npump.text = "{:.2f}".format(float(root.npump.text) + 0.01)
                            root.npumpsldr.value = float(root.npumpsldr.value) + 0.01


            MDGridLayout:
                cols: 1
                height: dp(40)
                adaptive_height: True

                MDCard:

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "restore"
                        on_release:
                            root.npump.text = "{:.2f}".format(0.90)
                            root.npumpsldr.value = 0.9

                    MDSlider:
                        id: npumpsldr
                        min: 0.4
                        max: 1
                        value: 0.90
                        size_hint_x : 0.7
                        pos_hint: {"x":0.10}
                        hint: False
                        thumb_color_down: (0.28, 0.39, 0.63, 1)
                        on_value:
                            root.npump.text = "{:.2f}".format(npumpsldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint_x : None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.npump.text = "{:.2f}".format(round(float(root.npump.text), 1))
                            root.npumpsldr.value = round(float(root.npumpsldr.value), 1)

            OneLineIconListItem:
                height: dp(120)
                on_release:
                    root.statepressed = 2
                    app.screen_helper.current = 'thermostate'
                    app.screen_helper.transition.direction = 'left'

                MDLabel:
                    text: "State 2:"
                    font_style: "Button"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    pos_hint: {"x":0.10,"y":0.4}

                MDRaisedButton:
                    text: "2"
                    font_size: "24sp"
                    size_hint: 0.15,0.45
                    pos_hint: {"x":0.05,"center_y":0.45}
                    on_release:
                        root.statepressed = 2
                        app.screen_helper.current = 'thermostate'
                        app.screen_helper.transition.direction = 'left'

                MDLabel:
                    text: "Temperature [C]:"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint_x : 0.4
                    pos_hint: {"x":0.35,"y":0.10}

                MDLabel:
                    id: t2
                    text: "None"
                    hint_text: "Enter value"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.75,"y":0.475}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

                MDLabel:
                    text: "Pressure [bar]:"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint_x : 0.4
                    pos_hint: {"x":0.35,"y":-0.25}

                MDLabel:
                    id: p2
                    text: "None"
                    size_hint: 0.25,0.25
                    pos_hint: {"x":0.75,"y":0.125}
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)

<EvaporatorPropCustomSheet@BoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height: dp(450)

    MDToolbar:
        title: root.title
        md_bg_color: (0.28, 0.39, 0.63, 1)
        height: dp(60)

    ScrollView:

        MDGridLayout:
            cols: 1
            adaptive_height: True
            
            OneLineIconListItem:
                height: dp(240)
                MDLabel:
                    text: root.text
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint: 0.95, None
                    pos_hint: {"x":0.05,"center_y":0.5}
                    
            MDGridLayout:
                cols: 2
                adaptive_height: True
                OneLineIconListItem:
                    height: dp(105)
                    size_hint: 0.15, None
                    IconLeftWidget:
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        icon: "restore"

                OneLineIconListItem:
                    height: dp(105)
                    size_hint: 0.85, None
                    MDLabel:
                        text: "If you want to restore the parameter's value to the calculated value or the default one press the reset button"
                        theme_text_color: "Custom"
                        text_color: (0.28, 0.39, 0.63, 1)
                        size_hint: 0.95, None
                        pos_hint: {"x":0.05,"top":1}
                    
            MDCard:
                orientation: "vertical"
                padding: dp(8)
                size_hint: 1,None
                height: 275*Window.width/350
                allow_stretch: True
                keep_ratio: False

                Image:
                    allow_stretch: True
                    keep_ratio: False
                    source: root.image

<ThermoStateScreen>
    statebar:statebar
    rho:rho
    vspec:vspec
    enth:enth
    entr:entr
    soundspeed:soundspeed
    comprfactor:comprfactor
    fundder:fundder
    cp:cp
    cv:cv
    temp:temp
    pres:pres
    
    id: thermostatescreen
    name: 'thermostate'
    
    Screen:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        id: statebar
                        title: 'State 2'
                        left_action_items: [["arrow-left-thick",  lambda x: app.change_screen('thermo')]]
                        elevation:5

                    ScrollView:
                        MDGridLayout:
                            id: box
                            cols: 1
                            adaptive_height: True
                            
                            OneLineIconListItem:
                                height: dp(60)

                                MDLabel:
                                    id: temp
                                    text: "Temperature : None [C]"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    size_hint: 0.9, None
                                    pos_hint: {"x":0.10,"center_y":0.5}
                                    
                            OneLineIconListItem:
                                height: dp(60)

                                MDLabel:
                                    id: pres
                                    text: "Pressure : None [bar]"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    size_hint: 0.9, None
                                    pos_hint: {"x":0.10,"center_y":0.5}
                            
                            OneLineIconListItem:
                                height: dp(60)

                                MDLabel:
                                    id: rho
                                    text: "Density : None [kg/m3]"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    size_hint: 0.9, None
                                    pos_hint: {"x":0.10,"center_y":0.5}
                                    
                            OneLineIconListItem:
                                height: dp(60)

                                MDLabel:
                                    id: vspec
                                    text: "Specific Volume : None [m3/kg]"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    size_hint: 0.9, None
                                    pos_hint: {"x":0.10,"center_y":0.5}
                                    
                            OneLineIconListItem:
                                height: dp(60)

                                MDLabel:
                                    id: enth
                                    text: "Enthalpy : None [kJ/kg]"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    size_hint: 0.9, None
                                    pos_hint: {"x":0.10,"center_y":0.5}
                                    
                            OneLineIconListItem:
                                height: dp(60)

                                MDLabel:
                                    id: entr
                                    text: "Entropy : None [kJ/kg-K]"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    size_hint: 0.9, None
                                    pos_hint: {"x":0.10,"center_y":0.5}

                            OneLineIconListItem:
                                height: dp(60)

                                MDLabel:
                                    id: soundspeed
                                    text: "Speed of sound : None [m/s]"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    size_hint: 0.9, None
                                    pos_hint: {"x":0.10,"center_y":0.5}
                                    
                            OneLineIconListItem:
                                height: dp(60)

                                MDLabel:
                                    id: comprfactor
                                    text: "Compressibility Factor : None [-]"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    size_hint: 0.9, None
                                    pos_hint: {"x":0.10,"center_y":0.5}
                                    
                            OneLineIconListItem:
                                height: dp(60)

                                MDLabel:
                                    id: fundder
                                    text: "Foundamental Derivative : None [-]"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    size_hint: 0.9, None
                                    pos_hint: {"x":0.10,"center_y":0.5}
                                    
                            OneLineIconListItem:
                                height: dp(60)

                                MDLabel:
                                    id: cp
                                    text: "Specific Heat Capacity Cp : None [kJ/kg-K]"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    size_hint: 0.9, None
                                    pos_hint: {"x":0.10,"center_y":0.5}

                            OneLineIconListItem:
                                height: dp(60)

                                MDLabel:
                                    id: cv
                                    text: "Specific Heat Capacity Cv : None [kJ/kg-K]"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)
                                    size_hint: 0.9, None
                                    pos_hint: {"x":0.10,"center_y":0.5}

<Thermotab3>:
    pr:pr
    qin:qin
    wout:wout
    win:win
    wnet:wnet
    nth:nth
    ncarnot:ncarnot
    thermspinner:thermspinner
    orientation: "vertical"
    cols: 1
    id: thermotab3
    ScrollView:
        do_scroll_x: False
        do_scroll_y: True
        MDGridLayout:
            id: box
            cols: 1
            adaptive_height: True
            
            MDToolbar:
                title: "Calculate & Results"
                md_bg_color: (0.60, 0.76, 1, 1)
                

            MDCard:
                orientation: "vertical"
                padding: dp(8)
                size_hint: 1,None
                height: dp(100)
                allow_stretch: True
                keep_ratio: False

                MDSpinner:
                    id: thermspinner
                    size_hint: None, None
                    size: dp(46), dp(46)
                    pos_hint: {'center_x': .5, 'center_y': .5}
                    determinate_time: "3"
                    active: False

                MDRoundFlatIconButton:
                    text: "Calculate"
                    icon: "calculator"
                    font_size: dp(22)
                    size_hint: None, None
                    size: dp(150), dp(50)
                    pos_hint: {"center_x":0.5,"center_y":0.5}

            OneLineIconListItem:
                height: dp(30)
                MDLabel:
                    text: "Results:"
                    font_style: "Button"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    pos_hint: {"x":0.10,"center_y":0.5}

            OneLineIconListItem:
                MDLabel:
                    id: pr
                    text: "Pressure Ratio : None [-]"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}

            OneLineIconListItem:
                MDLabel:
                    id: qin
                    text: "Heat Duty : None [Gcal/hr]"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}

            OneLineIconListItem:
                MDLabel:
                    id: wout
                    text: "Turbine Power Output : None [kW]"
                    size_hint_x: 1
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}

            OneLineIconListItem:
                MDLabel:
                    id: win
                    text: "Pump Power Input : None [kW]"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}

            OneLineIconListItem:
                MDLabel:
                    id: wnet
                    text: "Net Power Output : None [kW]"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}

            OneLineIconListItem:
                MDLabel:
                    id: nth
                    text: "Thermal Efficiency : None [%]"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}

            OneLineIconListItem:
                MDLabel:
                    id: ncarnot
                    text: "Carnot Efficiency : None [%]"
                    theme_text_color: "Custom"
                    text_color: (0.28, 0.39, 0.63, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}
                    
            OneLineIconListItem:
                height: dp(70)
                MDFillRoundFlatIconButton:
                    text: "Go to Velocity Triangles"
                    icon: "arrow-right-thick"
                    font_size: dp(17)
                    size_hint: None, None
                    height: dp(50)
                    pos_hint: {"center_x":0.5,"center_y":0.5}
                    theme_text_color: "Custom"
                    md_bg_color:  (0.28, 0.39, 0.63, 1)
                    on_release: 
                        app.root.current = 'veltria'

<VelTriaScreen>:
    veltriatab1:veltriatab1
    veltriatab2:veltriatab2
    
    id: veltria
    name: 'veltria'
    on_pre_enter: root.on_pre_enter()
    Screen:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        title: 'Velocity Triangles'
                        left_action_items: [["menu", lambda x: nav_drawer_veltria.set_state("open")]]
                        md_bg_color: (0.19, 0.64, 0.20, 1)
                        elevation:5
                                                    
                    MDTabs:
                        allow_stretch: False
                        id: veltriatabs
                        background_color: (0.19, 0.64, 0.20, 1)
                        VelTriatab1:
                            id: veltriatab1
                            text: "Inputs"
                            
                        VelTriatab2:
                            id: veltriatab2
                            text: "Calculate"
                            veltriatab1:veltriatab1


        MDNavigationDrawer:
            id: nav_drawer_veltria
            ContentNavigationDrawer:
                orientation: 'vertical'
                padding: dp(8)
                spacing: dp(8)

                MDLabel:
                    text: "ORCestra/ Velocity Triangles"
                    font_style: "H6"
                    size_hint: 1, None
                    height: dp(40)
                    pos_hint: {"x":0.05,"top":1}
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)

                Image:
                    id: avatar
                    size_hint: (1,None)
                    source: "VelocityTriangles.png"
                    height: dp(150)

                ScrollView:
                    DrawerList:
                        id: md_list

                        MDList:
                            OneLineIconListItem:
                                text: "Home"
                                on_release:
                                    nav_drawer_veltria.set_state("close")
                                    root.manager.current = 'main'


                                IconLeftWidget:
                                    icon: "home"

                            OneLineIconListItem:
                                text: "Thermodynamic Cycle"
                                on_release:
                                    nav_drawer_veltria.set_state("close")
                                    root.manager.current = 'thermo'
                                theme_text_color: "Custom"
                                text_color: (0.28, 0.39, 0.63, 1)

                                IconLeftWidget:
                                    icon: "alpha-t-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)


                            OneLineIconListItem:
                                text: "Velocity Triangles"
                                theme_text_color: "Custom"
                                text_color: (0.19, 0.64, 0.20, 1)

                                IconLeftWidget:
                                    icon: "alpha-v-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.19, 0.64, 0.20, 1)


                            OneLineIconListItem:
                                text: "Stator Design"
                                on_release:
                                    nav_drawer_veltria.set_state("close")
                                    root.manager.current = 'statordes'
                                theme_text_color: "Custom"
                                text_color: (0.90, 0.36, 0.0, 1)

                                IconLeftWidget:
                                    icon: "alpha-s-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)

                            OneLineIconListItem:
                                text: "Rotor Design"
                                theme_text_color: "Custom"
                                text_color: (0.48, 0.0, 0.80, 1)
                                on_release:
                                    nav_drawer_veltria.set_state("close")
                                    root.manager.current = 'rotordes'

                                IconLeftWidget:
                                    icon: "alpha-r-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.48, 0.0, 0.80, 1)

                            OneLineIconListItem:
                                text: "Exit"
                                on_release: app.stop()

                                IconLeftWidget:
                                    icon: "logout"

<VelTriatab1>:
    workingfluidvel:workingfluidvel
    tet:tet
    pet:pet
    mflowvel:mflowvel
    prorm2text:prorm2text
    prorm2:prorm2
    mx2:mx2
    rn:rn
    rotationalspeed:rotationalspeed
    maxrotspeed:maxrotspeed
    material:material
    sf:sf
    htr:htr
    zs:zs
    smin:smin
    rotspeedlabel:rotspeedlabel
    rotspeedicon:rotspeedicon
    mx2sldr:mx2sldr
    rnsldr:rnsldr
    rotspeedminus:rotspeedminus
    rotspeedplus:rotspeedplus
    rotspeedsldr:rotspeedsldr
    rotspeedrestore:rotspeedrestore
    rotspeedround:rotspeedround
    sfsldr:sfsldr
    htrsldr:htrsldr
    zssldr:zssldr
    sminsldr:sminsldr
    
    orientation: "vertical"
    cols: 1
    id: veltriatab1
    ScrollView:
        do_scroll_x: True
        do_scroll_y: True
        MDGridLayout:
            id: boxvel
            cols: 1
            adaptive_height: True
            
            MDCard:
                orientation: "vertical"
                padding: dp(8)
                size_hint: 1,None
                height: Window.width*0.8140556
                allow_stretch: True
                keep_ratio: False

                Image:
                    allow_stretch: True
                    keep_ratio: False
                    source:"VelocityTriaFigure.png"

            MDToolbar:
                title: "Thermodynamic Inputs"
                md_bg_color: (0.70, 1, 0.60, 1)
                specific_text_color: (0,0,0,1)

            OneLineIconListItem:
                id: workingfluidvel
                text: "Working Fluid : Select"
                font_style: "H6"
                theme_text_color: "Custom"
                text_color: (0.19, 0.64, 0.20, 1)
                on_release: app.root.current = "thermo"
                
            MDGridLayout:
                cols: 1
                height: dp(60)
                adaptive_height: True

                MDCard:
                
                    MDLabel:
                        text: " "
                        size_hint_x : 0.05

                    MDLabel:
                        text: "Turbine Inlet Temperature [C]:"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint_x : 0.5
                        pos_hint: {"x":0.15,"y":0.10}

                    MDLabel:
                        id: tet
                        text: "None"
                        hint_text: "Enter value"
                        size_hint: 0.25,0.25
                        pos_hint: {"x":0.65,"y":0.475}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)

            MDGridLayout:
                cols: 1
                height: dp(60)
                adaptive_height: True

                MDCard:
                
                    MDLabel:
                        text: " "
                        size_hint_x : 0.05

                    MDLabel:
                        text: "Turbine Inlet Pressure [bar]:"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint_x : 0.5
                        pos_hint: {"x":0.15,"y":0.10}

                    MDLabel:
                        id: pet
                        text: "None"
                        hint_text: "Enter value"
                        size_hint: 0.25,0.25
                        pos_hint: {"x":0.65,"y":0.475}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)

            MDGridLayout:
                cols: 1
                height: dp(60)
                adaptive_height: True

                MDCard:
                
                    MDLabel:
                        text: " "
                        size_hint_x : 0.05

                    MDLabel:
                        text: "Mass Flow [kg/s]:"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint_x : 0.5
                        pos_hint: {"x":0.15,"y":0.10}

                    MDLabel:
                        id: mflowvel
                        text: "None"
                        hint_text: "Enter value"
                        size_hint: 0.25,0.25
                        pos_hint: {"x":0.65,"y":0.475}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                    
            MDToolbar:
                title: "Kinematic Inputs"
                md_bg_color: (0.70, 1, 0.60, 1)
                specific_text_color: (0,0,0,1)
                
            OneLineIconListItem:
                on_release: root.PressureRatio_bottom_sheet()
                IconLeftWidget:
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    icon: "information"
                    on_release: root.show_custom_bottom_sheet("prorm2")

                MDLabel:
                    id: prorm2text
                    text: "Pressure Ratio [-]:"
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint_x : 0.45
                    pos_hint: {"x":0.25,"y":0.10}

                MDLabel:
                    id: prorm2
                    text: "None"
                    hint_text: "Enter value"
                    size_hint: 0.2,0.25
                    pos_hint: {"x":0.7,"y":0.475}
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    
            
            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    MDIconButton:
                        id: infomx2
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "information"
                        on_release: root.show_custom_bottom_sheet("mx2")

                    MDLabel:
                        text: "Axial Mach number:"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint_x : 0.4
                        pos_hint: {"x":0.25,"y":0.05}
                        
                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"x": 0.55, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.mx2.text = "{:.2f}".format(float(root.mx2.text) - 0.05)
                            root.mx2sldr.value = float(root.mx2sldr.value) - 0.05

                    MDTextFieldRect:
                        id: mx2
                        text: "0.60"
                        hint_text: "Enter value"
                        size_hint: 0.2,0.7
                        pos_hint: {"x":0.70,"y":0.15}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.19, 0.64, 0.20, 1)
                        
                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"x": 0.85, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.mx2.text = "{:.2f}".format(float(root.mx2.text) + 0.05)
                            root.mx2sldr.value = float(root.mx2sldr.value) + 0.05

            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(40)

                MDCard:
                    MDIconButton:
                        size_hint_x: None
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "restore"
                        on_release:
                            root.mx2.text = "{:.2f}".format(0.60)
                            root.mx2sldr.value = 0.60

                    MDSlider:
                        id: mx2sldr
                        min: 0.1
                        max: 0.99
                        value: 0.60
                        size_hint_x : 0.7
                        pos_hint: {"x":0.10}
                        hint: False
                        color: (0.19, 0.64, 0.20, 1)
                        on_value:
                            root.mx2.text = "{:.2f}".format(mx2sldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint_x : None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.mx2.text = "{:.2f}".format(round(float(root.mx2.text),1))
                            root.mx2sldr.value = round(float(root.mx2sldr.value),1)
                            
            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    MDIconButton:
                        id: infomx2
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "information"
                        on_release: root.show_custom_bottom_sheet("rn")

                    MDLabel:
                        text: "Degree of Reaction [%]:"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint_x : 0.4
                        pos_hint: {"x":0.25,"y":0.05}
                        
                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"x": 0.55, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.rn.text = "{:.2f}".format(float(root.rn.text) - 5)
                            root.rnsldr.value = float(root.rnsldr.value) - 5

                    MDTextFieldRect:
                        id: rn
                        text: "0.00"
                        hint_text: "Enter value"
                        size_hint: 0.2,0.7
                        pos_hint: {"x":0.70,"y":0.15}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.19, 0.64, 0.20, 1)
                        
                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"x": 0.85, "center_y": .5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.rn.text = "{:.2f}".format(float(root.rn.text) + 5)
                            root.rnsldr.value = float(root.rnsldr.value) + 5

            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(40)

                MDCard:
                    MDIconButton:
                        size_hint_x: None
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "restore"
                        on_release:
                            root.rn.text = "{:.2f}".format(0.00)
                            root.rnsldr.value = 0.00

                    MDSlider:
                        id: rnsldr
                        min: 0
                        max: 100
                        value: 0
                        size_hint_x : 0.7
                        pos_hint: {"x":0.10}
                        hint: False
                        color: (0.19, 0.64, 0.20, 1)
                        
                        on_value:
                            root.rn.text = "{:.2f}".format(rnsldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: None,None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.rn.text = "{:.2f}".format(round(float(root.rn.text),0))
                            root.rnsldr.value = round(float(root.rnsldr.value),0)
                    
            MDToolbar:
                title: "Structual Inputs"
                md_bg_color: (0.70, 1, 0.60, 1)
                specific_text_color: (0,0,0,1)
                
                
            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    MDIconButton:
                        id: rotspeedicon
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "information"
                        on_release: root.show_custom_bottom_sheet("rotationalspeed")
                        size_hint: None,None

                    MDLabel:
                        id: rotspeedlabel
                        text: "Rotational Speed [rpm]:"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: 0.4,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        
                    MDIconButton:
                        id: rotspeedminus
                        icon: "minus"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.rotationalspeed.text = "{:.2f}".format(float(root.rotationalspeed.text) - 1000)
                            root.rotspeedsldr.value = float(root.rotspeedsldr.value) - 1000

                    MDTextFieldRect:
                        id: rotationalspeed
                        text: "7000"
                        hint_text: "Enter value"
                        size_hint: 0.2,0.7
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        color_mode: 'custom'
                        line_color_focus: (0.19, 0.64, 0.20, 1)
                        
                    MDIconButton:
                        id: rotspeedplus
                        icon: "plus"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.rotationalspeed.text = "{:.2f}".format(float(root.rotationalspeed.text) + 1000)
                            root.rotspeedsldr.value = float(root.rotspeedsldr.value) + 1000

            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(40)

                MDCard:
                    MDIconButton:
                        id: rotspeedrestore
                        size_hint: None,None
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        icon: "restore"
                        on_release:
                            root.rotationalspeed.text = "{:.0f}".format(7000)
                            root.rotspeedsldr.value = 7000

                    MDSlider:
                        id: rotspeedsldr
                        min: 1500
                        max: 60000
                        value: 7000
                        size_hint: 0.7,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        hint: False
                        color: (0.19, 0.64, 0.20, 1)
                        on_value:
                            root.rotationalspeed.text = "{:.0f}".format(rotspeedsldr.value)

                    MDIconButton:
                        id: rotspeedround
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: None,None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.rotationalspeed.text = "{:.0f}".format(round(float(root.rotationalspeed.text)/1000,0)*1000)
                            root.rotspeedsldr.value = round(float(root.rotspeedsldr.value)/1000,0)*1000

                                
            MDGridLayout:
                cols: 1
                height: dp(40)
                adaptive_height: True

                MDCard:
                    MDLabel:
                        text: "     Maximum rotational speed:"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: 0.55,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}

                    MDSwitch:
                        id: maxrotspeed
                        size_hint: 0.2,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        thumb_color: (0.19, 0.64, 0.20, 1)
                        thumb_color_down: (0.19, 0.64, 0.20, 1)
                        on_active:
                            root.MaxRotActivate()
                        on_release:
                            root.MaxRotActivate()

                    MDLabel:
                        text: " "
                        theme_text_color: "Custom"
                        size_hint: 0.1,None
                  
            MDGridLayout:
                cols: 1
                height: dp(25)
                adaptive_height: True

                MDCard:
                    MDLabel:
                        text: "   Material and Safety Factor:"
                        font_style: "Button"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        pos_hint: {"x":0.10,"y":0.0}

            
            OneLineIconListItem:
                height: dp(40)
                on_release: root.Material_bottom_sheet()
                
                MDLabel:
                    id: material
                    text: "Material : Select"
                    font_style: "H6"
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.5,None
                    pos_hint: {"center_x":0.5,"center_y":0.5}

            
            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    MDIconButton:
                        size_hint: None,None
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "information"
                        on_release: root.show_custom_bottom_sheet("sf")

                    MDLabel:
                        text: "Safety Factor [-]:"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: 0.4,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        
                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.sf.text = "{:.2f}".format(float(root.sf.text) - 0.05)
                            root.sfsldr.value = float(root.sfsldr.value) - 0.05

                    MDTextFieldRect:
                        id: sf
                        text: "1.20"
                        hint_text: "Enter value"
                        size_hint: 0.2,0.7
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.19, 0.64, 0.20, 1)
                        
                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.sf.text = "{:.2f}".format(float(root.sf.text) + 0.05)
                            root.sfsldr.value = float(root.sfsldr.value) + 0.05

            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(40)

                MDCard:
                    MDIconButton:
                        size_hint: None,None
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        icon: "restore"
                        on_release:
                            root.sf.text = "{:.2f}".format(1.20)
                            root.sfsldr.value = 1.20

                    MDSlider:
                        id: sfsldr
                        min: 1.01
                        max: 2.5
                        value: 1.2
                        size_hint: 0.7,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        hint: False
                        color: (0.19, 0.64, 0.20, 1)
                        on_value:
                            root.sf.text = "{:.2f}".format(sfsldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: None,None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.sf.text = "{:.2f}".format(round(float(root.sf.text),1))
                            root.sfsldr.value = round(float(root.sfsldr.value),1)

            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    MDIconButton:
                        size_hint: None,None
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "information"
                        on_release: root.show_custom_bottom_sheet("htr")

                    MDLabel:
                        text: "Hub to Tip ratio [-]:"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: 0.4,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        
                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.htr.text = "{:.2f}".format(float(root.htr.text) - 0.05)
                            root.htrsldr.value = float(root.htrsldr.value) - 0.05

                    MDTextFieldRect:
                        id: htr
                        text: "0.85"
                        hint_text: "Enter value"
                        size_hint: 0.2,0.7
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.19, 0.64, 0.20, 1)
                        
                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.htr.text = "{:.2f}".format(float(root.htr.text) + 0.05)
                            root.htrsldr.value = float(root.htrsldr.value) + 0.05

            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(40)

                MDCard:
                    MDIconButton:
                        size_hint: None,None
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "restore"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        on_release:
                            root.htr.text = "{:.2f}".format(0.85)
                            root.htrsldr.value = 0.85

                    MDSlider:
                        id: htrsldr
                        min: 0.01
                        max: 0.99
                        value: 0.85
                        size_hint: 0.7,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        hint: False
                        color: (0.19, 0.64, 0.20, 1)
                        on_value:
                            root.htr.text = "{:.2f}".format(htrsldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: None,None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.htr.text = "{:.2f}".format(round(float(root.htr.text),1))
                            root.htrsldr.value = round(float(root.htrsldr.value),1)
            
            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    MDIconButton:
                        size_hint: None,None
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "information"
                        on_release: root.show_custom_bottom_sheet("zs")

                    MDLabel:
                        text: "Number of blades [-]:"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: 0.4,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        
                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.zs.text = "{:.0f}".format(float(root.zs.text) - 2)
                            root.zssldr.value = float(root.zssldr.value) - 2

                    MDTextFieldRect:
                        id: zs
                        text: "10"
                        hint_text: "Enter value"
                        size_hint: 0.2,0.7
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.19, 0.64, 0.20, 1)
                        
                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.zs.text = "{:.0f}".format(float(root.zs.text) + 2)
                            root.zssldr.value = float(root.zssldr.value) + 2

            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(40)

                MDCard:
                    MDIconButton:
                        size_hint: None,None
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "restore"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        on_release:
                            root.zs.text = "{:.0f}".format(10)
                            root.zssldr.value = 10

                    MDSlider:
                        id: zssldr
                        min: 5
                        max: 60
                        value: 10
                        size_hint: 0.7,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        hint: False
                        color: (0.19, 0.64, 0.20, 1)
                        on_value:
                            root.zs.text = "{:.0f}".format(zssldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: None,None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.zs.text = "{:.0f}".format(round(float(root.zs.text)/10,0)*10)
                            root.zssldr.value = round(float(root.zssldr.value)/10,0)*10
                            
            MDGridLayout:
                cols: 1
                height: dp(45)
                adaptive_height: True

                MDCard:
                    MDIconButton:
                        size_hint: None,None
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "information"
                        on_release: root.show_custom_bottom_sheet("smin")

                    MDLabel:
                        text: "Minimun blade thickness [mm]:"
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: 0.4,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        
                    MDIconButton:
                        icon: "minus"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.smin.text = "{:.2f}".format(float(root.smin.text) - 0.05)
                            root.sminsldr.value = float(root.sminsldr.value) - 0.05

                    MDTextFieldRect:
                        id: smin
                        text: "0.50"
                        hint_text: "Enter value"
                        size_hint: 0.2,0.7
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        color_mode: 'custom'
                        multiline: False
                        line_color_focus: (0.19, 0.64, 0.20, 1)
                        
                    MDIconButton:
                        icon: "plus"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        on_release:
                            root.smin.text = "{:.2f}".format(float(root.smin.text) + 0.05)
                            root.sminsldr.value = float(root.sminsldr.value) + 0.05
                            
            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(40)

                MDCard:
                    MDIconButton:
                        size_hint: None,None
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        icon: "restore"
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        on_release:
                            root.smin.text = "{:.2f}".format(0.5)
                            root.sminsldr.value = 0.50

                    MDSlider:
                        id: sminsldr
                        min: 0.5
                        max: 5
                        value: 0.5
                        size_hint: 0.7,None
                        pos_hint: {"center_x":0.5,"center_y":0.5}
                        hint: False
                        color: (0.19, 0.64, 0.20, 1)
                        on_value:
                            root.smin.text = "{:.2f}".format(sminsldr.value)

                    MDIconButton:
                        theme_text_color: "Custom"
                        text_color: (0.19, 0.64, 0.20, 1)
                        size_hint: None,None
                        pos_hint: {"center_x": 0.5, "center_y": .5}
                        icon: "alpha-r-circle-outline"
                        on_release:
                            root.smin.text = "{:.2f}".format(round(float(root.smin.text),1))
                            root.sminsldr.value = round(float(root.sminsldr.value),1)

<ContentCustomSheet@BoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height: dp(200)

    MDToolbar:
        title: root.title
        md_bg_color: (0.19, 0.64, 0.20, 1)
        height: dp(60)

    ScrollView:

        MDGridLayout:
            cols: 1
            adaptive_height: True
            
            OneLineIconListItem:
                height: dp(140)
                MDLabel:
                    text: root.text
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.95, None
                    pos_hint: {"x":0.05,"top":1}

<VelTriatab2>:
    dh0:dh0
    ublade:ublade
    mblade:mblade
    nrotational:nrotational
    prvel:prvel
    psi:psi
    phi:phi
    woutact:woutact
    wnetact:wnetact
    nexerg:nexerg
    veltriaspinner:veltriaspinner
    
    orientation: "vertical"
    cols: 1
    id: veltriatab2
    ScrollView:
        do_scroll_x: True
        do_scroll_y: True
        MDGridLayout:
            id: box
            cols: 1
            adaptive_height: True
            
            MDGridLayout:
                cols: 1
                adaptive_height: True
                height: dp(300)

                MDCard:
                    orientation: "vertical"
                    padding: dp(8)
                    allow_stretch: False
                    keep_ratio: False

                    Image:
                        allow_stretch: False
                        keep_ratio: False
                        pos_hint: {'center_x': .5, 'center_y': .5}
                        source:"VelocityTriangles.png"

                    MDSpinner:
                        id: veltriaspinner
                        size_hint: None, None
                        size: dp(46), dp(46)
                        pos_hint: {'center_x': .5, 'center_y': .5}
                        determinate_time: "3"
                        active: False
                        color: (0.19, 0.64, 0.20, 1)


            OneLineIconListItem:
                height: dp(70)
                MDFillRoundFlatIconButton:
                    text: "Calculate"
                    icon: "calculator"
                    font_size: dp(22)
                    size_hint : None, None
                    pos_hint: {"center_x":0.5,"center_y":0.5}
                    height: dp(50)
                    theme_text_color: "Custom"
                    md_bg_color:  (0.19, 0.64, 0.20, 1)
                    
            MDToolbar:
                title: "Results"
                md_bg_color: (0.70, 1, 0.60, 1)
                specific_text_color: (0,0,0,1)
                
            OneLineIconListItem:
                height: dp(60)
                MDFillRoundFlatIconButton:
                    text: "Stator Results"
                    icon: "chart-bar"
                    theme_text_color: "Custom"
                    font_size: dp(16)
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: None ,None
                    pos_hint: {"center_x":0.5,"center_y":0.5}
                    md_bg_color:  (0.19, 0.64, 0.20, 1)
                    text_color:(1,1,1,1)
                    on_release: root.VelStator_dialog()
                    
            OneLineIconListItem:
                height: dp(60)
                MDFillRoundFlatIconButton:
                    text: "Rotor Results"
                    icon: "chart-bar"
                    theme_text_color: "Custom"
                    font_size: dp(16)
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: None ,None
                    pos_hint: {"center_x":0.5,"center_y":0.5}
                    md_bg_color:  (0.19, 0.64, 0.20, 1)
                    text_color:(1,1,1,1)
                    on_release: root.VelRotor_dialog()
                    
            OneLineIconListItem:
                height: dp(30)
                MDLabel:
                    text: "Stage:"
                    font_style: "Button"
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    pos_hint: {"x":0.10,"center_y":0.5}

            OneLineIconListItem:
                MDLabel:
                    id: dh0
                    text: "Enthalpy difference \u0394h0 : None [kJ/kg]"
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}
                    
            OneLineIconListItem:
                MDLabel:
                    id: ublade
                    text: "Blade Velocity U : None [m/s]"
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}
                    
            OneLineIconListItem:
                MDLabel:
                    id: mblade
                    text: "Blade Mach number MB : None "
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}
                    
            OneLineIconListItem:
                MDLabel:
                    id: nrotational
                    text: "Rotational Speed N : None [rpm] "
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}
                    
            OneLineIconListItem:
                MDLabel:
                    id: prvel
                    text: "Pressure ratio PR : None "
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}
                    
            OneLineIconListItem:
                MDLabel:
                    id: psi
                    text: "Load factor \u03C8: None "
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}
                    
            OneLineIconListItem:
                MDLabel:
                    id: phi
                    text: "Flow factor \u03C6: None "
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}
                    
            OneLineIconListItem:
                MDLabel:
                    id: woutact
                    text: "Actual Power output : None [kW]"
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}
                    
            OneLineIconListItem:
                MDLabel:
                    id: wnetact
                    text: "Actual Net Power : None [kW]"
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}
                    
            OneLineIconListItem:
                MDLabel:
                    id: nexerg
                    text: "Exergetic efficiency : None [%]"
                    theme_text_color: "Custom"
                    text_color: (0.19, 0.64, 0.20, 1)
                    size_hint: 0.9,None
                    pos_hint: {"x":0.10,"center_y":0.5}
                    
            OneLineIconListItem:
                height: dp(70)
                MDFillRoundFlatIconButton:
                    text: "Go to Stator Design"
                    icon: "arrow-right-thick"
                    font_size: dp(17)
                    size_hint: None ,None
                    height: dp(50)
                    pos_hint: {"center_x":0.5,"center_y":0.5}
                    theme_text_color: "Custom"
                    md_bg_color:  (0.19, 0.64, 0.20, 1)
                    on_release: app.root.current = 'statordes'
                    
            OneLineIconListItem:
                height: dp(70)
                MDFillRoundFlatIconButton:
                    text: "Go to Rotor Design"
                    icon: "arrow-right-thick"
                    font_size: dp(17)
                    size_hint: None ,None
                    height: dp(50)
                    pos_hint: {"center_x":0.5,"center_y":0.5}
                    theme_text_color: "Custom"
                    md_bg_color:  (0.19, 0.64, 0.20, 1)
                    on_release: app.root.current = 'rotordes'

<StatorScreen>:
    rhubs:rhubs
    rtips:rtips
    hs:hs
    ythroat:ythroat
    pitch:pitch
    dte:dte
    mab:mab
    r2r1:r2r1
    r2r1sldr:r2r1sldr
    mabsldr:mabsldr
    statorspinner:statorspinner
    schord:schord
    ssolidity:ssolidity
    schratio:schratio
    
    name: 'statordes'
    on_pre_enter: root.on_pre_enter()
    Screen:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        title: 'Stator Design'
                        left_action_items: [["menu", lambda x: nav_drawer_statordes.set_state("open")]]
                        md_bg_color: (0.90, 0.36, 0.0, 1)
                        elevation:5
                        
                    ScrollView:
                        MDGridLayout:
                            cols: 1
                            adaptive_height: True
                            
                            MDGridLayout:
                                cols: 1
                                height: dp(25)
                                adaptive_height: True

                                MDCard:
                                
                                    MDLabel:
                                        text: " "
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.1
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
            
                                    MDLabel:
                                        text: " Geometry Inputs:"
                                        font_style: "Button"
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        
                            MDGridLayout:
                                cols: 1
                                height:  dp(50)
                                adaptive_height: True

                                MDCard:

                                    MDLabel:
                                        text: " "
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.1
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        text: "Radius in Hub [mm]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.6
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                    
                                    MDLabel:
                                        id: rhubs
                                        text: "None"
                                        hint_text: "Enter value"
                                        size_hint_x: 0.20
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                    
                            MDGridLayout:
                                cols: 1
                                height:  dp(50)
                                adaptive_height: True

                                MDCard:

                                    MDLabel:
                                        text: " "
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.1
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        
                                    MDLabel:
                                        text: "Radius in Tip [mm]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.6
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                    
                                    MDLabel:
                                        id: rtips
                                        text: "None"
                                        size_hint_x: 0.20
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                    
                            MDGridLayout:
                                cols: 1
                                height:  dp(50)
                                adaptive_height: True

                                MDCard:

                                    MDLabel:
                                        text: " "
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.1
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        
                                    MDLabel:
                                        text: "Height [mm]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.6
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        id: hs
                                        text: "None"
                                        size_hint_x : 0.2
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                    
                            MDGridLayout:
                                cols: 1
                                height:  dp(50)
                                adaptive_height: True

                                MDCard:

                                    MDLabel:
                                        text: " "
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.1
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        
                                    MDLabel:
                                        text: "Pitch [mm]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.6
                                        pos_hint: {"x":0.15,"y":0.07}

                                    MDLabel:
                                        id: pitch
                                        text: "None"
                                        size_hint_x : 0.2
                                        pos_hint: {"x":0.15,"y":0.07}
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                    
                            MDGridLayout:
                                cols: 1
                                height:  dp(50)
                                adaptive_height: True

                                MDCard:

                                    MDLabel:
                                        text: " "
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.1
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        
                                    MDLabel:
                                        text: "Throat [mm]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.6
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        id: ythroat
                                        text: "None"
                                        size_hint_x : 0.2
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                    
                            MDGridLayout:
                                cols: 1
                                height:  dp(50)
                                adaptive_height: True

                                MDCard:

                                    MDLabel:
                                        text: " "
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.1
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        
                                    MDLabel:
                                        text: "Trailing Edge diameter [mm]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.6
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        id: dte
                                        text: "None"
                                        size_hint_x : 0.2
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                    
                            MDToolbar:
                                title: "Blade Design"
                                md_bg_color: 1, 0.80, 0.40, 1
                                specific_text_color: (0,0,0,1)
                                left_action_items: [["information", lambda x: root.show_statorblade_bottom_sheet()]]
                                
                            MDGridLayout:
                                cols: 1
                                height: dp(45)
                                adaptive_height: True

                                MDCard:
                                    
                                    MDIconButton:
                                        id: infomab
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        icon: "information"
                                        on_release: root.show_statorsectionab_bottom_sheet()
                                        size_hint_xsize_hint_x: None
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        text: "Mach number in ab':"
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.35
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDIconButton:
                                        icon: "minus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        on_release:
                                            root.mab.text = "{:.2f}".format(float(root.mab.text) - 0.1)
                                            root.mabsldr.value = float(root.mabsldr.value) - 0.1

                                    MDTextFieldRect:
                                        id: mab
                                        text: "0.30"
                                        hint_text: "Enter value"
                                        size_hint: 0.2,0.7
                                        pos_hint: {"x":0.70,"y":0.15}
                                        color_mode: 'custom'
                                        line_color_focus: (0.90, 0.36, 0.0, 1)

                                    MDIconButton:
                                        icon: "plus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        on_release:
                                            root.mab.text = "{:.2f}".format(float(root.mab.text) + 0.1)
                                            root.mabsldr.value = float(root.mabsldr.value) + 0.1

                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height: dp(40)

                                MDCard:
                                    MDIconButton:
                                        size_hint_xsize_hint_x: None
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        icon: "restore"
                                        on_release:
                                            root.mab.text = "{:.2f}".format(0.30)
                                            root.mabsldr.value = 0.30

                                    MDSlider:
                                        id: mabsldr
                                        min: 0.05
                                        max: 0.99
                                        value: 0.3
                                        size_hint_x : 0.85
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        hint: False
                                        color: (0.90, 0.36, 0.0, 1)
                                        on_value:
                                            root.mab.text = "{:.2f}".format(mabsldr.value)

                                    MDIconButton:
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x: None
                                        pos_hint: {"center_x": 0.5, "center_y": .5}
                                        icon: "alpha-r-circle-outline"
                                        on_release:
                                            root.mab.text = "{:.2f}".format(round(float(root.mab.text),1))
                                            root.mabsldr.value = round(float(root.mabsldr.value),1)
                                    
                            MDGridLayout:
                                cols: 1
                                height: dp(45)
                                adaptive_height: True

                                MDCard:
                                    
                                    MDIconButton:
                                        id: infor2r1
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        icon: "information"
                                        on_release: root.show_statorR2R1_bottom_sheet()
                                        size_hint_xsize_hint_x: None
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        text: "R2/R1 Ratio:"
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x : 0.35
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDIconButton:
                                        icon: "minus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        on_release:
                                            root.r2r1.text = "{:.2f}".format(float(root.r2r1.text) - 0.1)
                                            root.r2r1sldr.value = float(root.r2r1sldr.value) - 0.1

                                    MDTextFieldRect:
                                        id: r2r1
                                        text: "1.50"
                                        hint_text: "Enter value"
                                        size_hint: 0.2,0.7
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        color_mode: 'custom'
                                        line_color_focus: (0.90, 0.36, 0.0, 1)

                                    MDIconButton:
                                        icon: "plus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        on_release:
                                            root.r2r1.text = "{:.2f}".format(float(root.r2r1.text) + 0.1)
                                            root.r2r1sldr.value = float(root.r2r1sldr.value) + 0.1

                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height: dp(40)

                                MDCard:
                                    MDIconButton:
                                        size_hint_xsize_hint_x: None
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        icon: "restore"
                                        on_release:
                                            root.r2r1.text = "{:.2f}".format(1.50)
                                            root.r2r1sldr.value = 1.50

                                    MDSlider:
                                        id: r2r1sldr
                                        min: 0.1
                                        max: 5
                                        value: 1.5
                                        size_hint_x : 0.85
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        hint: False
                                        color: (0.90, 0.36, 0.0, 1)
                                        on_value:
                                            root.r2r1.text = "{:.2f}".format(r2r1sldr.value)

                                    MDIconButton:
                                        theme_text_color: "Custom"
                                        text_color: (0.90, 0.36, 0.0, 1)
                                        size_hint_x: None
                                        pos_hint: {"center_x": 0.5, "center_y": .5}
                                        icon: "alpha-r-circle-outline"
                                        on_release:
                                            root.r2r1.text = "{:.2f}".format(round(float(root.r2r1.text),1))
                                            root.r2r1sldr.value = round(float(root.r2r1sldr.value),1)
                                    
                            OneLineIconListItem:
                                id: itemconvdistr
                                MDLabel:
                                    text: "Convergent Sector distribution:"
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                    size_hint_x : 0.45
                                    pos_hint: {"x":0.05,"y":0.05}
                                    
                                MDLabel:
                                    text: "Power [M(\u03B8) = a*\u03B8^n + b]:"
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                    size_hint_x : 0.45
                                    pos_hint: {"x":0.50,"y":0.05}
                                    
            
                            MDCard:
                                orientation: "vertical"
                                padding: dp(8)
                                size_hint: 1,None
                                height: dp(7)
                                allow_stretch: True
                                keep_ratio: False

                                MDSpinner:
                                    id: statorspinner
                                    size_hint: None, None
                                    size: dp(46), dp(46)
                                    pos_hint: {"center_x":0.5,"center_y":0.5}
                                    determinate_time: "3"
                                    active: False
                                    color: (0.90, 0.36, 0.0, 1)

                                    
                            MDCard:
                                orientation: "vertical"
                                padding: dp(8)
                                size_hint: 1,None
                                height: dp(60)
                                                                
                                MDFillRoundFlatIconButton:
                                    icon: "calculator"
                                    text: "Calculate"
                                    theme_text_color: "Custom"
                                    font_size: dp(22)
                                    size_hint : None, None
                                    pos_hint: {"center_x":0.5,"center_y":0.5}
                                    md_bg_color:  (0.90, 0.36, 0.0, 1)
                                    text_color:(1,1,1,1)
                                        
                            MDToolbar:
                                title: "Stator Results"
                                md_bg_color: 1, 0.80, 0.40, 1
                                specific_text_color: (0,0,0,1)
                                
                            OneLineIconListItem:
                                height:  dp(70)
                                MDLabel:
                                    text: "Geometry:"
                                    font_style: "Button"
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                    pos_hint: {"x":0.10,"y":0.35}

                                MDLabel:
                                    text: "Chord [mm]:"
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                    size_hint_x : 0.6
                                    pos_hint: {"x":0.15,"y":-0.10}
                                    
                                MDLabel:
                                    id: schord
                                    text: "None"
                                    hint_text: "Enter value"
                                    size_hint: 0.25,0.25
                                    pos_hint: {"x":0.75,"y":0.275}
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                    
                                    
                            OneLineIconListItem:
                                height:  dp(50)
                                MDLabel:
                                    text: "Solidity [-]:"
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                    size_hint_x : 0.6
                                    pos_hint: {"x":0.15,"y":0.07}

                                MDLabel:
                                    id: ssolidity
                                    text: "None"
                                    size_hint: 0.25,0.25
                                    pos_hint: {"x":0.75,"y":0.4}
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                    
                            OneLineIconListItem:
                                height:  dp(50)
                                MDLabel:
                                    text: "Chord to Height ratio [-]:"
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                    size_hint_x : 0.6
                                    pos_hint: {"x":0.15,"y":0.07}

                                MDLabel:
                                    id: schratio
                                    text: "None"
                                    size_hint: 0.25,0.25
                                    pos_hint: {"x":0.75,"y":0.4}
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)
                                        
                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height: dp(300)

                                MDCard:
                                    orientation: "vertical"
                                    padding: dp(8)
                                    allow_stretch: False
                                    keep_ratio: False

                                    Image:
                                        allow_stretch: False
                                        keep_ratio: False
                                        pos_hint: {'center_x': .5, 'center_y': .5}
                                        source:"StatorFigure.png"                                    
                               
                            OneLineIconListItem:
                                height: dp(70)
                                MDFillRoundFlatIconButton:
                                    text: "Go to Rotor Design"
                                    icon: "arrow-right-thick"
                                    font_size: dp(17)
                                    size_hint: None, None
                                    height: dp(50)
                                    pos_hint: {"center_x":0.5,"center_y":0.5}
                                    theme_text_color: "Custom"
                                    md_bg_color:  (0.90, 0.36, 0.0, 1)
                                    on_release: 
                                        app.root.current = 'rotordes'                                    

        MDNavigationDrawer:
            id: nav_drawer_statordes
            ContentNavigationDrawer:
                orientation: 'vertical'
                padding: dp(8)
                spacing: dp(8)

                MDLabel:
                    text: "ORCestra / Stator Design"
                    font_style: "H6"
                    size_hint: 1, None
                    height: dp(40)
                    pos_hint: {"x":0.05,"top":1}
                    theme_text_color: "Custom"
                    text_color: (0.90, 0.36, 0.0, 1)

                Image:
                    id: avatar
                    size_hint: (1,None)
                    source: "StatorBladeImage.png"
                    height: dp(150)

                ScrollView:
                    DrawerList:
                        id: md_list

                        MDList:
                            OneLineIconListItem:
                                text: "Home"
                                on_release:
                                    nav_drawer_statordes.set_state("close")
                                    root.manager.current = 'main'


                                IconLeftWidget:
                                    icon: "home"

                            OneLineIconListItem:
                                text: "Thermodynamic Cycle"
                                on_release:
                                    nav_drawer_statordes.set_state("close")
                                    root.manager.current = 'thermo'
                                theme_text_color: "Custom"
                                text_color: (0.28, 0.39, 0.63, 1)

                                IconLeftWidget:
                                    icon: "alpha-t-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)


                            OneLineIconListItem:
                                text: "Velocity Triangles"
                                on_release:
                                    nav_drawer_statordes.set_state("close")
                                    root.manager.current = 'veltria'
                                theme_text_color: "Custom"
                                text_color: (0.19, 0.64, 0.20, 1)

                                IconLeftWidget:
                                    icon: "alpha-v-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.19, 0.64, 0.20, 1)


                            OneLineIconListItem:
                                text: "Stator Design"
                                theme_text_color: "Custom"
                                text_color: (0.90, 0.36, 0.0, 1)

                                IconLeftWidget:
                                    icon: "alpha-s-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)

                            OneLineIconListItem:
                                text: "Rotor Design"
                                theme_text_color: "Custom"
                                text_color: (0.48, 0.0, 0.80, 1)
                                on_release:
                                    nav_drawer_statordes.set_state("close")
                                    root.manager.current = 'rotordes'

                                IconLeftWidget:
                                    icon: "alpha-r-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.48, 0.0, 0.80, 1)

                            OneLineIconListItem:
                                text: "Exit"
                                on_release: app.stop()

                                IconLeftWidget:
                                    icon: "logout"

<StatorBladeCustomSheet@BoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height: dp(400)

    MDToolbar:
        title: "Blade Design"
        md_bg_color: (0.90, 0.36, 0.0, 1)
        height: dp(60)

    MDGridLayout:
        cols: 2
        adaptive_height: True
        
        ScrollView:
            OneLineIconListItem:
                height: dp(550)
                MDLabel:
                    text: "Design the stator blades of turbine, regarding the calculations of the velocity triangles. Consindering the supersonic regime in ORC applications, the stator blade is divided in 3 distinct sectors: Inlet sector, convergent sector and divergent sector. Set the preferable design parameters in every blade sector, and combined with the calculated parameters from the velocity triangles, generate the prelimenary stator geometry. Finally, export the generated geometry in a completed coordinates text file."
                    theme_text_color: "Custom"
                    text_color: (0.90, 0.36, 0.0, 1)
                    size_hint: 0.95, 1
                    pos_hint: {"x":0.05,"top":1}

        MDCard:
            orientation: "vertical"
            padding: dp(8)
            size_hint: 1,None
            height: dp(320)
            allow_stretch: True
            keep_ratio: False
            pos_hint: {"x":0,"top":1}

            Image:
                allow_stretch: True
                keep_ratio: False
                source:"StatorFigure.png"

<StatorSectionAbCustomSheet@BoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height: dp(290)

    MDToolbar:
        title: "Mach number in ab'"
        md_bg_color: (0.90, 0.36, 0.0, 1)
        height: dp(60)

    MDGridLayout:
        cols: 2
        adaptive_height: True
        
        ScrollView:
            OneLineIconListItem:
                height:dp(290)
                MDLabel:
                    text: "Select the Mach number in the section ab'. This section is the beginning of the convergent section. The Mach number in this section defines the diameter distribution in the convergent sector"
                    theme_text_color: "Custom"
                    text_color: (0.90, 0.36, 0.0, 1)
                    size_hint: 0.95, 1
                    pos_hint: {"x":0.05,"top":1}
                    

        MDCard:
            orientation: "vertical"
            padding: dp(8)
            size_hint: 1,None
            height: dp(230)
            allow_stretch: True
            keep_ratio: False
            pos_hint: {"x":0,"top":1}

            Image:
                allow_stretch: True
                keep_ratio: False
                source:"Statorsection_ab.JPG"

<StatorR2R1CustomSheet@BoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height: dp(290)

    MDToolbar:
        title: "R2/R1 Ratio"
        md_bg_color: (0.90, 0.36, 0.0, 1)
        height: dp(60)

    MDGridLayout:
        cols: 2
        adaptive_height: True
        
        ScrollView:
        
            MDGridLayout:
                cols: 1
                adaptive_height: True

                OneLineIconListItem:
                    height:dp(290)
                    MDLabel:
                        text: "Select the ratio of radius R2 and radius R1. Radius R1 is calculated through the inlet Mach number, which has been already calculated and the Mach number in section ab'. Then radius R2 is calculated through the defined ratio. The ratio R2/R1 defines finally the total length and the size of the stator blade. "
                        theme_text_color: "Custom"
                        text_color: (0.90, 0.36, 0.0, 1)
                        size_hint: 0.95, 1
                        pos_hint: {"x":0.05,"top":1}          


        MDCard:
            orientation: "vertical"
            padding: dp(8)
            size_hint: 1,None
            height: dp(230)
            allow_stretch: True
            keep_ratio: False
            pos_hint: {"x":0,"top":1}

            Image:
                allow_stretch: True
                keep_ratio: False
                source:"StatorR2R1.JPG"

<RotorScreen>:
    labelmrel2:labelmrel2
    labelmrel3:labelmrel3
    labelb2:labelb2
    labelb3:labelb3
    labelgamma:labelgamma
    textb2:textb2
    textb3:textb3
    mrel2sldr:mrel2sldr
    mrel3sldr:mrel3sldr
    b2sldr:b2sldr
    b3sldr:b3sldr
    gammasldr:gammasldr
    rhubr:rhubr
    rtipr:rtipr
    hr:hr
    dte:dte
    msssldr:msssldr
    mss:mss
    mpssldr:mpssldr
    mps:mps

    id: rotordes
    name: 'rotordes'
    on_pre_enter: root.on_pre_enter()
    
    Screen:
        ScreenManager:        
            Screen:
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        title: 'Rotor Design'
                        left_action_items: [["menu", lambda x: nav_drawer_rotordes.set_state("open")]]
                        md_bg_color: (0.24, 0, 0.3, 1)
                        elevation:5
                        
                    ScrollView:
                        do_scroll_x: True
                        do_scroll_y: True
                        MDGridLayout:
                            id: boxvel
                            cols: 1
                            adaptive_height: True

                            MDCard:
                                orientation: "vertical"
                                padding: dp(8)
                                size_hint: 1,None
                                height: dp(185)
                                allow_stretch: True
                                keep_ratio: False

                                Image:
                                    allow_stretch: False
                                    keep_ratio: False
                                    source:"RotorFigure.png"
                                    
                            MDToolbar:
                                title: "Kinematic Inputs"
                                md_bg_color: (0.94, 0.70, 1, 1)
                                specific_text_color: (0,0,0,1)

                            MDGridLayout:
                                cols: 1
                                height: dp(45)
                                adaptive_height: True

                                MDCard:
                                    
                                    MDIconButton:
                                        id: infomrel2
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        icon: "information"
                                        on_release: root.show_rotor_custom_bottom_sheet("mrel2")
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        text: "M,rel2 [-]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.35
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDIconButton:
                                        icon: "minus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.labelmrel2.text = "{:.2f}".format(float(root.labelmrel2.text) - 0.1)
                                            root.mrel2sldr.value = float(root.mrel2sldr.value) - 0.1

                                    MDTextFieldRect:
                                        id: labelmrel2
                                        text: "{:.2f}".format(root.mrel2ini)
                                        hint_text: "Enter value"
                                        size_hint: 0.2,0.7
                                        pos_hint: {"x":0.70,"y":0.15}
                                        color_mode: 'custom'
                                        line_color_focus: (0.24, 0, 0.3, 1)

                                    MDIconButton:
                                        icon: "plus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.labelmrel2.text = "{:.2f}".format(float(root.labelmrel2.text) + 0.1)
                                            root.mrel2sldr.value = float(root.mrel2sldr.value) + 0.1
                                            

                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height: dp(40)

                                MDCard:
                                    MDIconButton:
                                        size_hint_x: None
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        icon: "restore"
                                        on_release:
                                            root.labelmrel2.text = "{:.2f}".format(root.mrel2ini)
                                            root.mrel2sldr.value = root.mrel2ini
                                            

                                    MDSlider:
                                        id: mrel2sldr
                                        min: 1
                                        max: 3
                                        value: root.mrel2ini
                                        size_hint_x : 0.85
                                        hint: False
                                        color: (0.24, 0, 0.3, 1)
                                        on_value:
                                            root.labelmrel2.text = "{:.2f}".format(mrel2sldr.value)
                                            
    
                                    MDIconButton:
                                        theme_text_color: "Custom"
                                        thumb_color_down: (0.24, 0, 0.3, 1)
                                        size_hint_x : None
                                        pos_hint: {"center_x": 0.5, "center_y": .5}
                                        icon: "alpha-r-circle-outline"
                                        on_release:
                                            root.labelmrel2.text = "{:.2f}".format(round(float(root.labelmrel2.text),1))
                                            root.mrel2sldr.value = round(float(root.mrel2sldr.value),1)

                            MDGridLayout:
                                cols: 1
                                height: dp(45)
                                adaptive_height: True

                                MDCard:
                                    
                                    MDIconButton:
                                        id: infomrel3
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        icon: "information"
                                        on_release: root.show_rotor_custom_bottom_sheet("mrel3")
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        text: "M,rel2 [-]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.35
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDIconButton:
                                        icon: "minus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.labelmrel3.text = "{:.2f}".format(float(root.labelmrel3.text) - 0.1)
                                            root.mrel3sldr.value = float(root.mrel3sldr.value) - 0.1
                                            

                                    MDTextFieldRect:
                                        id: labelmrel3
                                        text: "{:.2f}".format(root.mrel3ini)
                                        hint_text: "Enter value"
                                        size_hint: 0.2,0.7
                                        pos_hint: {"x":0.70,"y":0.15}
                                        color_mode: 'custom'
                                        line_color_focus: (0.24, 0, 0.3, 1)

                                    MDIconButton:
                                        icon: "plus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.labelmrel3.text = "{:.2f}".format(float(root.labelmrel3.text) + 0.1)
                                            root.mrel3sldr.value = float(root.mrel3sldr.value) + 0.1
                                            

                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height: dp(40)

                                MDCard:
                                    MDIconButton:
                                        size_hint_x: None
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        icon: "restore"
                                        on_release:
                                            root.labelmrel3.text = "{:.2f}".format(root.mrel3ini)
                                            root.mrel3sldr.value = root.mrel3ini
                                            

                                    MDSlider:
                                        id: mrel3sldr
                                        min: 1
                                        max: 3
                                        value: root.mrel3ini
                                        hint: False
                                        size_hint_x : 0.85
                                        color: (0.24, 0, 0.3, 1)
                                        on_value:
                                            root.labelmrel3.text = "{:.2f}".format(mrel3sldr.value)
                                            
    
                                    MDIconButton:
                                        theme_text_color: "Custom"
                                        thumb_color_down: (0.24, 0, 0.3, 1)
                                        size_hint_x : None
                                        pos_hint: {"center_x": 0.5, "center_y": .5}
                                        icon: "alpha-r-circle-outline"
                                        on_release:
                                            root.labelmrel3.text = "{:.2f}".format(round(float(root.labelmrel3.text),1))
                                            root.mrel3sldr.value = round(float(root.mrel3sldr.value),1)
                                            
                            MDGridLayout:
                                cols: 1
                                height: dp(45)
                                adaptive_height: True

                                MDCard:
                                    
                                    MDIconButton:
                                        id: infob2
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        icon: "information"
                                        on_release: root.show_rotor_custom_bottom_sheet("b2")
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        id: textb2
                                        text: "b2 [deg]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.35
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDIconButton:
                                        icon: "minus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.labelb2.text = "{:.2f}".format(float(root.labelb2.text) - 1)
                                            root.b2sldr.value = float(root.b2sldr.value) - 1
                                            

                                    MDTextFieldRect:
                                        id: labelb2
                                        text: "{:.1f}".format(root.b2ini)
                                        hint_text: "Enter value"
                                        size_hint: 0.2,0.7
                                        pos_hint: {"x":0.70,"y":0.15}
                                        color_mode: 'custom'
                                        line_color_focus: (0.24, 0, 0.3, 1)

                                    MDIconButton:
                                        icon: "plus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.labelb2.text = "{:.2f}".format(float(root.labelb2.text) + 1)
                                            root.b2sldr.value = float(root.b2sldr.value) + 1
                                            

                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height: dp(40)

                                MDCard:
                                    MDIconButton:
                                        size_hint_x: None
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        icon: "restore"
                                        on_release:
                                            root.labelb2.text = "{:.2f}".format(root.b2ini)
                                            root.b2sldr.value = root.b2ini
                                            

                                    MDSlider:
                                        id: b2sldr
                                        min: 0
                                        max: 90
                                        value: root.b2ini
                                        hint: False
                                        size_hint_x : 0.85
                                        color: (0.24, 0, 0.3, 1)
                                        on_value:
                                            root.labelb2.text = "{:.2f}".format(b2sldr.value)
                                            
    
                                    MDIconButton:
                                        theme_text_color: "Custom"
                                        thumb_color_down: (0.24, 0, 0.3, 1)
                                        size_hint_x : None
                                        pos_hint: {"center_x": 0.5, "center_y": .5}
                                        icon: "alpha-r-circle-outline"
                                        on_release:
                                            root.labelb2.text = "{:.2f}".format(round(float(root.labelb2.text),0))
                                            root.b2sldr.value = round(float(root.b2sldr.value),0)                                            

                            MDGridLayout:
                                cols: 1
                                height: dp(45)
                                adaptive_height: True

                                MDCard:
                                    
                                    MDIconButton:
                                        id: infob3
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        icon: "information"
                                        on_release: root.show_rotor_custom_bottom_sheet("b3")
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        id: textb3
                                        text: "b3 [deg]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.35
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDIconButton:
                                        icon: "minus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.labelb3.text = "{:.2f}".format(float(root.labelb3.text) - 1)
                                            root.b3sldr.value = float(root.b3sldr.value) - 1
                                            

                                    MDTextFieldRect:
                                        id: labelb3
                                        text: "{:.1f}".format(root.b3ini)
                                        hint_text: "Enter value"
                                        size_hint: 0.2,0.7
                                        pos_hint: {"x":0.70,"y":0.15}
                                        color_mode: 'custom'
                                        line_color_focus: (0.24, 0, 0.3, 1)

                                    MDIconButton:
                                        icon: "plus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.labelb3.text = "{:.2f}".format(float(root.labelb3.text) + 1)
                                            root.b3sldr.value = float(root.b3sldr.value) + 1
                                            

                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height: dp(40)

                                MDCard:
                                    MDIconButton:
                                        size_hint_x: None
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        icon: "restore"
                                        on_release:
                                            root.labelb3.text = "{:.2f}".format(root.b3ini)
                                            root.b3sldr.value = root.b3ini
                                            

                                    MDSlider:
                                        id: b3sldr
                                        min: 0
                                        max: 90
                                        value: root.b3ini
                                        hint: False
                                        size_hint_x : 0.85
                                        color: (0.24, 0, 0.3, 1)
                                        on_value:
                                            root.labelb3.text = "{:.2f}".format(b3sldr.value)
                                            
    
                                    MDIconButton:
                                        theme_text_color: "Custom"
                                        thumb_color_down: (0.24, 0, 0.3, 1)
                                        size_hint_x : None
                                        pos_hint: {"center_x": 0.5, "center_y": .5}
                                        icon: "alpha-r-circle-outline"
                                        on_release:
                                            root.labelb3.text = "{:.2f}".format(round(float(root.labelb3.text),0))
                                            root.b3sldr.value = round(float(root.b3sldr.value),0)
                                            
                                            
                            MDGridLayout:
                                cols: 1
                                height: dp(45)
                                adaptive_height: True

                                MDCard:
                                    
                                    MDIconButton:
                                        id: infogamma
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        icon: "information"
                                        on_release: root.show_rotor_custom_bottom_sheet("gamma")
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        text: "k [-]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.35
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDIconButton:
                                        icon: "minus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.labelgamma.text = "{:.2f}".format(float(root.labelgamma.text) - 0.1)
                                            root.gammasldr.value = float(root.gammasldr.value) - 0.1
                                            

                                    MDTextFieldRect:
                                        id: labelgamma
                                        text: "{:.2f}".format(root.gammaini)
                                        hint_text: "Enter value"
                                        size_hint: 0.2,0.7
                                        pos_hint: {"x":0.70,"y":0.15}
                                        color_mode: 'custom'
                                        line_color_focus: (0.24, 0, 0.3, 1)

                                    MDIconButton:
                                        icon: "plus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.labelgamma.text = "{:.2f}".format(float(root.labelgamma.text) + 0.1)
                                            root.gammasldr.value = float(root.gammasldr.value) + 0.1
                                            

                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height: dp(40)

                                MDCard:
                                    MDIconButton:
                                        size_hint_x: None
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        icon: "restore"
                                        on_release:
                                            root.labelgamma.text = "{:.2f}".format(root.gammaini)
                                            root.gammasldr.value = root.gammaini
                                            

                                    MDSlider:
                                        id: gammasldr
                                        min: 0.7
                                        max: 3
                                        value: root.gammaini
                                        hint: False
                                        size_hint_x : 0.85
                                        color: (0.24, 0, 0.3, 1)
                                        on_value:
                                            root.labelgamma.text = "{:.2f}".format(gammasldr.value)
                                            
    
                                    MDIconButton:
                                        theme_text_color: "Custom"
                                        thumb_color_down: (0.24, 0, 0.3, 1)
                                        size_hint_x : None
                                        pos_hint: {"center_x": 0.5, "center_y": .5}
                                        icon: "alpha-r-circle-outline"
                                        on_release:
                                            root.labelgamma.text = "{:.2f}".format(round(float(root.labelgamma.text),1))
                                            root.gammasldr.value = round(float(root.gammasldr.value),1)
                                            

                                                                                
                            MDToolbar:
                                title: "Geometrical Inputs"
                                md_bg_color: (0.94, 0.70, 1, 1)
                                specific_text_color: (0,0,0,1)

                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height:  dp(50)

                                MDCard:

                                    MDLabel:
                                        text: " "
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.1

                                    MDLabel:
                                        text: "Radius in Hub [mm]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.6
                                        pos_hint: {"x":0.15,"y":0.07}

                                    MDLabel:
                                        id: rhubr
                                        text: "None"
                                        size_hint: 0.25,0.25
                                        pos_hint: {"x":0.75,"y":0.4}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height:  dp(50)
                                
                                MDCard:

                                    MDLabel:
                                        text: " "
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.1

                                    MDLabel:
                                        text: "Radius in Tip [mm]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.6
                                        pos_hint: {"x":0.15,"y":0.07}

                                    MDLabel:
                                        id: rtipr
                                        text: "None"
                                        size_hint: 0.25,0.25
                                        pos_hint: {"x":0.75,"y":0.4}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                    
                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height:  dp(50)
                                
                                MDCard:

                                    MDLabel:
                                        text: " "
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.1
                                        
                                    MDLabel:
                                        text: "Height [mm]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.6
                                        pos_hint: {"x":0.15,"y":0.07}

                                    MDLabel:
                                        id: hr
                                        text: "None"
                                        size_hint: 0.25,0.25
                                        pos_hint: {"x":0.75,"y":0.4}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                    
                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height:  dp(50)
                                
                                MDCard:

                                    MDLabel:
                                        text: " "
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.1
                                        
                                    MDLabel:
                                        text: "Trailing Edge diameter [mm]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.6
                                        pos_hint: {"x":0.15,"y":0.07}

                                    MDLabel:
                                        id: dte
                                        text: "None"
                                        size_hint: 0.25,0.25
                                        pos_hint: {"x":0.75,"y":0.4}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                    
                            MDToolbar:
                                title: "Blade Design"
                                md_bg_color: (0.94, 0.70, 1, 1)
                                specific_text_color: (0,0,0,1)

                            MDGridLayout:
                                cols: 1
                                height: dp(45)
                                adaptive_height: True

                                MDCard:
                                    
                                    MDIconButton:
                                        id: infomss
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        icon: "information"
                                        on_release: root.show_rotor_custom_bottom_sheet("mss")
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        text: "Mss [-]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.35
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDIconButton:
                                        icon: "minus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.mss.text = "{:.2f}".format(float(root.mss.text) - 0.1)
                                            root.msssldr.value = float(root.msssldr.value) - 0.1
                                            

                                    MDTextFieldRect:
                                        id: mss
                                        text: "{:.2f}".format(root.mssini)
                                        hint_text: "Enter value"
                                        size_hint: 0.2,0.7
                                        pos_hint: {"x":0.70,"y":0.15}
                                        color_mode: 'custom'
                                        line_color_focus: (0.24, 0, 0.3, 1)

                                    MDIconButton:
                                        icon: "plus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.mss.text = "{:.2f}".format(float(root.mss.text) + 0.1)
                                            root.msssldr.value = float(root.msssldr.value) + 0.1
                                            

                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height: dp(40)

                                MDCard:
                                    MDIconButton:
                                        size_hint_x: None
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        icon: "restore"
                                        on_release:
                                            root.mss.text = "{:.2f}".format(root.mssini)
                                            root.msssldr.value = root.mssini
                                            

                                    MDSlider:
                                        id: msssldr
                                        min: 1
                                        max: 3
                                        value: root.mssini
                                        hint: False
                                        size_hint_x : 0.85
                                        color: (0.24, 0, 0.3, 1)
                                        on_value:
                                            root.mss.text = "{:.2f}".format(msssldr.value)
                                            root.sunc_pres_limits("mss")
                                            
    
                                    MDIconButton:
                                        theme_text_color: "Custom"
                                        thumb_color_down: (0.24, 0, 0.3, 1)
                                        size_hint_x : None
                                        pos_hint: {"center_x": 0.5, "center_y": .5}
                                        icon: "alpha-r-circle-outline"
                                        on_release:
                                            root.mss.text = "{:.2f}".format(round(float(root.mss.text),1))
                                            root.msssldr.value = round(float(root.msssldr.value),1)
                                            
                                            
                            MDGridLayout:
                                cols: 1
                                height: dp(45)
                                adaptive_height: True

                                MDCard:
                                    
                                    MDIconButton:
                                        id: infomps
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        icon: "information"
                                        on_release: root.show_rotor_custom_bottom_sheet("mps")
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDLabel:
                                        text: "Mps [-]:"
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        size_hint_x : 0.35
                                        pos_hint: {"center_x":0.5,"center_y":0.5}

                                    MDIconButton:
                                        icon: "minus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.mps.text = "{:.2f}".format(float(root.mps.text) - 0.1)
                                            root.mpssldr.value = float(root.mpssldr.value) - 0.1
                                            

                                    MDTextFieldRect:
                                        id: mps
                                        text: "{:.2f}".format(root.mpsini)
                                        hint_text: "Enter value"
                                        size_hint: 0.2,0.7
                                        pos_hint: {"x":0.70,"y":0.15}
                                        color_mode: 'custom'
                                        line_color_focus: (0.24, 0, 0.3, 1)

                                    MDIconButton:
                                        icon: "plus"
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        on_release:
                                            root.mps.text = "{:.2f}".format(float(root.mps.text) + 0.1)
                                            root.mpssldr.value = float(root.mpssldr.value) + 0.1
                                            

                            MDGridLayout:
                                cols: 1
                                adaptive_height: True
                                height: dp(40)

                                MDCard:
                                    MDIconButton:
                                        size_hint_x: None
                                        theme_text_color: "Custom"
                                        text_color: (0.24, 0, 0.3, 1)
                                        pos_hint: {"center_x":0.5,"center_y":0.5}
                                        icon: "restore"
                                        on_release:
                                            root.mps.text = "{:.2f}".format(root.mpsini)
                                            root.mpssldr.value = root.mpsini
                                            

                                    MDSlider:
                                        id: mpssldr
                                        min: 1
                                        max: 3
                                        value: root.mpsini
                                        hint: False
                                        size_hint_x : 0.85
                                        color: (0.24, 0, 0.3, 1)
                                        on_value:
                                            root.mps.text = "{:.2f}".format(mpssldr.value)
                                            root.sunc_pres_limits("mps")
                                            
    
                                    MDIconButton:
                                        theme_text_color: "Custom"
                                        thumb_color_down: (0.24, 0, 0.3, 1)
                                        size_hint_x : None
                                        pos_hint: {"center_x": 0.5, "center_y": .5}
                                        icon: "alpha-r-circle-outline"
                                        on_release:
                                            root.mps.text = "{:.2f}".format(round(float(root.mps.text),1))
                                            root.mpssldr.value = round(float(root.mpssldr.value),1)
                                            
                                                                                                            
                            MDToolbar:
                                title: "Rotor Results"
                                md_bg_color: (0.94, 0.70, 1, 1)
                                specific_text_color: (0,0,0,1)

                            OneLineIconListItem:
                                height:  dp(70)
                                MDLabel:
                                    text: "Geometry:"
                                    font_style: "Button"
                                    theme_text_color: "Custom"
                                    text_color: (0.24, 0, 0.3, 1)
                                    pos_hint: {"x":0.10,"y":0.35}

                                MDLabel:
                                    text: "Chord [mm]:"
                                    theme_text_color: "Custom"
                                    text_color: (0.24, 0, 0.3, 1)
                                    size_hint_x : 0.6
                                    pos_hint: {"x":0.15,"y":-0.10}
                                    
                                MDLabel:
                                    id: rchord
                                    text: "None"
                                    hint_text: "Enter value"
                                    size_hint: 0.25,0.25
                                    pos_hint: {"x":0.75,"y":0.275}
                                    theme_text_color: "Custom"
                                    text_color: (0.24, 0, 0.3, 1)
                                    
                            OneLineIconListItem:
                                height:  dp(50)
                                MDLabel:
                                    text: "Pitch [mm]:"
                                    theme_text_color: "Custom"
                                    text_color: (0.24, 0, 0.3, 1)
                                    size_hint_x : 0.6
                                    pos_hint: {"x":0.15,"y":0.07}

                                MDLabel:
                                    id: rpitch
                                    text: "None"
                                    size_hint: 0.25,0.25
                                    pos_hint: {"x":0.75,"y":0.4}
                                    theme_text_color: "Custom"
                                    text_color: (0.24, 0, 0.3, 1)
                                    
                                    
                            OneLineIconListItem:
                                height:  dp(50)
                                MDLabel:
                                    text: "Solidity [-]:"
                                    theme_text_color: "Custom"
                                    text_color: (0.24, 0, 0.3, 1)
                                    size_hint_x : 0.6
                                    pos_hint: {"x":0.15,"y":0.07}

                                MDLabel:
                                    id: rsolidity
                                    text: "None"
                                    size_hint: 0.25,0.25
                                    pos_hint: {"x":0.75,"y":0.4}
                                    theme_text_color: "Custom"
                                    text_color: (0.24, 0, 0.3, 1)
                                    
                            OneLineIconListItem:
                                height:  dp(50)
                                MDLabel:
                                    text: "Chord to Height ratio [-]:"
                                    theme_text_color: "Custom"
                                    text_color: (0.24, 0, 0.3, 1)
                                    size_hint_x : 0.6
                                    pos_hint: {"x":0.15,"y":0.07}

                                MDLabel:
                                    id: rchratio
                                    text: "None"
                                    size_hint: 0.25,0.25
                                    pos_hint: {"x":0.75,"y":0.4}
                                    theme_text_color: "Custom"
                                    text_color: (0.24, 0, 0.3, 1)
                                    
                            OneLineIconListItem:
                                height:  dp(50)
                                MDLabel:
                                    text: "Sonic radius [mm]:"
                                    theme_text_color: "Custom"
                                    text_color: (0.24, 0, 0.3, 1)
                                    size_hint_x : 0.6
                                    pos_hint: {"x":0.15,"y":0.07}

                                MDLabel:
                                    id: rsonic
                                    text: "None"
                                    size_hint: 0.25,0.25
                                    pos_hint: {"x":0.75,"y":0.4}
                                    theme_text_color: "Custom"
                                    text_color: (0.24, 0, 0.3, 1)

                            OneLineIconListItem:
                                height: dp(70)
                                MDFillRoundFlatIconButton:
                                    text: "Transition and Circular Arcs"
                                    icon: "chart-bar"
                                    font_size: dp(16)
                                    size_hint : None,0.7
                                    pos_hint: {"center_x":0.5,"center_y":0.5}
                                    height: dp(50)
                                    theme_text_color: "Custom"
                                    md_bg_color:  (0.24, 0, 0.3, 1)

                            OneLineIconListItem:
                                height: dp(70)
                                MDFillRoundFlatIconButton:
                                    text: "Go back to Main Page"
                                    icon: "chevron-triple-left"
                                    font_size: dp(17)
                                    size_hint: None, None
                                    height: dp(50)
                                    pos_hint: {"center_x":0.5,"center_y":0.5}
                                    theme_text_color: "Custom"
                                    md_bg_color:  (0.24, 0, 0.3, 1)
                                    on_release: 
                                        app.root.current = 'main'

        MDNavigationDrawer:
            id: nav_drawer_rotordes
            ContentNavigationDrawer:
                orientation: 'vertical'
                padding: dp(8)
                spacing: dp(8)

                MDLabel:
                    text: "ORCestra / Rotor Design"
                    font_style: "H6"
                    size_hint: 1, None
                    height: dp(40)
                    pos_hint: {"x":0.05,"top":1}
                    theme_text_color: "Custom"
                    text_color: (0.24, 0, 0.3, 1)

                Image:
                    id: avatar
                    size_hint: (1,None)
                    source: "RotorBladeImage.png"
                    height: dp(150)

                ScrollView:
                    DrawerList:
                        id: md_list

                        MDList:
                            OneLineIconListItem:
                                text: "Home"
                                on_release:
                                    nav_drawer_rotordes.set_state("close")
                                    root.manager.current = 'main'


                                IconLeftWidget:
                                    icon: "home"

                            OneLineIconListItem:
                                text: "Thermodynamic Cycle"
                                on_release:
                                    nav_drawer_rotordes.set_state("close")
                                    root.manager.current = 'thermo'
                                theme_text_color: "Custom"
                                text_color: (0.28, 0.39, 0.63, 1)

                                IconLeftWidget:
                                    icon: "alpha-t-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.28, 0.39, 0.63, 1)


                            OneLineIconListItem:
                                text: "Velocity Triangles"
                                on_release:
                                    nav_drawer_rotordes.set_state("close")
                                    root.manager.current = 'veltria'
                                theme_text_color: "Custom"
                                text_color: (0.19, 0.64, 0.20, 1)

                                IconLeftWidget:
                                    icon: "alpha-v-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.19, 0.64, 0.20, 1)


                            OneLineIconListItem:
                                text: "Stator Design"
                                on_release:
                                    nav_drawer_rotordes.set_state("close")
                                    root.manager.current = 'statordes'
                                theme_text_color: "Custom"
                                text_color: (0.90, 0.36, 0.0, 1)

                                IconLeftWidget:
                                    icon: "alpha-s-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.90, 0.36, 0.0, 1)

                            OneLineIconListItem:
                                text: "Rotor Design"
                                theme_text_color: "Custom"
                                text_color: (0.48, 0.0, 0.80, 1)

                                IconLeftWidget:
                                    icon: "alpha-r-circle"
                                    theme_text_color: "Custom"
                                    text_color: (0.48, 0.0, 0.80, 1)

                            OneLineIconListItem:
                                text: "Exit"
                                on_release: app.stop()

                                IconLeftWidget:
                                    icon: "logout"

<RotorCustomSheet@BoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height: dp(250)

    MDToolbar:
        title: root.title
        md_bg_color: (0.24, 0, 0.3, 1)
        height: dp(60)

    ScrollView:

        MDGridLayout:
            cols: 1
            adaptive_height: True
            
            OneLineIconListItem:
                height: dp(105)
                MDLabel:
                    text: root.text
                    theme_text_color: "Custom"
                    text_color: (0.24, 0, 0.3, 1)
                    size_hint: 0.95, None
                    pos_hint: {"x":0.05,"top":1}
                    
            MDGridLayout:
                cols: 2
                adaptive_height: True
                OneLineIconListItem:
                    height: dp(105)
                    size_hint: 0.15, None
                    IconLeftWidget:
                        theme_text_color: "Custom"
                        text_color: (0.24, 0, 0.3, 1)
                        icon: "restore"

                OneLineIconListItem:
                    height: dp(105)
                    size_hint: 0.85, None
                    MDLabel:
                        text: "If you want to restore the parameter's value to the calculated value or the default one press the reset button"
                        theme_text_color: "Custom"
                        text_color: (0.24, 0, 0.3, 1)
                        size_hint: 0.95, None
                        pos_hint: {"x":0.05,"top":1}
